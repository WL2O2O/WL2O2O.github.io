<!DOCTYPE html><html lang="en" data-default-color-scheme="auto"><head><meta name="google-site-verification" content="COwq4mOphzRDivHncvzFed0dZge2jK1Rz_yDgTJsoQY"><meta name="baidu-site-verification" content="codeva-CjBrQqVd18"><meta charset="UTF-8"><link rel="apple-touch-icon" sizes="76x76" href="/img/fluid.ico"><link rel="icon" href="/img/fluid.ico"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=5,shrink-to-fit=no"><meta http-equiv="x-ua-compatible" content="ie=edge"><meta name="theme-color" content="#21252b"><meta name="author" content="WLei224"><meta name="keywords" content=""><meta name="description" content="欢迎观看我的医院预约挂号平台项目笔记 axiba,图片在typora软件更新时被意外删除了！！！   尚医通学习笔记前言：按照计划跟做项目，发现仍有一些令人不解的坑，为了解决问题耗费了更多的事件，通过手写和电子笔记以此列举学习成果，以便更好的复习。  项目介绍篇 是一个预约挂号，就医问诊，解决患者就医难看病难的平台。 平台：用户前台（用户预约挂号）、管理员后台、医院管理后台（上传医院信息）  技"><meta property="og:type" content="article"><meta property="og:title" content="尚医通"><meta property="og:url" content="https://wl2o2o.github.io/2022/05/31/shangyitong/index.html"><meta property="og:site_name" content="主页 | CSGUIDER&#39;S Blog"><meta property="og:description" content="欢迎观看我的医院预约挂号平台项目笔记 axiba,图片在typora软件更新时被意外删除了！！！   尚医通学习笔记前言：按照计划跟做项目，发现仍有一些令人不解的坑，为了解决问题耗费了更多的事件，通过手写和电子笔记以此列举学习成果，以便更好的复习。  项目介绍篇 是一个预约挂号，就医问诊，解决患者就医难看病难的平台。 平台：用户前台（用户预约挂号）、管理员后台、医院管理后台（上传医院信息）  技"><meta property="og:locale" content="en_US"><meta property="og:image" content="https://cs-wlei224.obs.cn-south-1.myhuaweicloud.com/blog-imgs/202311151627634.png"><meta property="article:published_time" content="2022-05-31T03:23:42.000Z"><meta property="article:modified_time" content="2023-11-15T08:44:51.632Z"><meta property="article:author" content="WLei224"><meta property="article:tag" content="Spring Boot"><meta property="article:tag" content="MySQL"><meta property="article:tag" content="Redis"><meta property="article:tag" content="Spring Cloud GateWay"><meta property="article:tag" content="feign"><meta property="article:tag" content="nacos"><meta property="article:tag" content="MongoDB"><meta property="article:tag" content="JWT"><meta property="article:tag" content="EasyExcell"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:image" content="https://cs-wlei224.obs.cn-south-1.myhuaweicloud.com/blog-imgs/202311151627634.png"><meta name="referrer" content="no-referrer-when-downgrade"><title>尚医通 - 主页 | CSGUIDER&#39;S Blog</title><link rel="stylesheet" href="https://lib.baomitu.com/twitter-bootstrap/4.6.1/css/bootstrap.min.css"><link rel="stylesheet" href="https://lib.baomitu.com/github-markdown-css/4.0.0/github-markdown.min.css"><link rel="stylesheet" href="https://lib.baomitu.com/hint.css/2.7.0/hint.min.css"><link rel="stylesheet" href="https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.css"><link rel="stylesheet" href="//at.alicdn.com/t/font_1749284_hj8rtnfg7um.css"><link rel="stylesheet" href="//at.alicdn.com/t/font_1736178_lbnruvf0jn.css"><link rel="stylesheet" href="/css/main.css"><link id="highlight-css" rel="stylesheet" href="/css/highlight.css"><link id="highlight-css-dark" rel="stylesheet" href="/css/highlight-dark.css"><script id="fluid-configs">var Fluid=window.Fluid||{};Fluid.ctx=Object.assign({},Fluid.ctx);var CONFIG={hostname:"wl2o2o.github.io",root:"/",version:"1.9.4",typing:{enable:!0,typeSpeed:70,cursorChar:"_",loop:!1,scope:[]},anchorjs:{enable:!0,element:"h1,h2,h3,h4,h5,h6",placement:"left",visible:"hover",icon:""},progressbar:{enable:!0,height_px:3,color:"#29d",options:{showSpinner:!1,trickleSpeed:100}},code_language:{enable:!0,default:"TEXT"},copy_btn:!0,image_caption:{enable:!0},image_zoom:{enable:!0,img_url_replace:["",""]},toc:{enable:!0,placement:"left",headingSelector:"h1,h2,h3,h4,h5,h6",collapseDepth:0},lazyload:{enable:!0,loading_img:"/img/loading.gif",onlypost:!1,offset_factor:2},web_analytics:{enable:!0,follow_dnt:!0,baidu:"532b21a5fc88ac9d57905860111efbbb",google:{measurement_id:null},gtag:null,tencent:{sid:null,cid:null},woyaola:null,cnzz:null,leancloud:{app_id:null,app_key:null,server_url:null,path:"window.location.pathname",ignore_local:!1}},search_path:"/local-search.xml"};if(CONFIG.web_analytics.follow_dnt){var dntVal=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack;Fluid.ctx.dnt=dntVal&&(dntVal.startsWith("1")||dntVal.startsWith("yes")||dntVal.startsWith("on"))}</script><script src="/js/utils.js"></script><script src="/js/color-schema.js"></script><script async>if(!Fluid.ctx.dnt){var _hmt=_hmt||[];!function(){var t=document.createElement("script");t.src="https://hm.baidu.com/hm.js?532b21a5fc88ac9d57905860111efbbb";var e=document.getElementsByTagName("script")[0];e.parentNode.insertBefore(t,e)}()}</script><script async>Fluid.ctx.dnt||Fluid.utils.createScript("https://www.google-analytics.com/analytics.js",(function(){window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","[object Object]","auto"),ga("send","pageview")}))</script><script>var _hmt=_hmt||[];!function(){var e=document.createElement("script");e.src="https://hm.baidu.com/hm.js?532b21a5fc88ac9d57905860111efbbb";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}()</script><meta name="generator" content="Hexo 5.4.2"></head><body><header><div class="header-inner" style="height:70vh"><nav id="navbar" class="navbar fixed-top navbar-expand-lg navbar-dark scrolling-navbar"><div class="container"><a class="navbar-brand" href="/"><strong>CS_GUIDER</strong> </a><button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation"><div class="animated-icon"><span></span><span></span><span></span></div></button><div class="collapse navbar-collapse" id="navbarSupportedContent"><ul class="navbar-nav ml-auto text-center"><li class="nav-item"><a class="nav-link" href="/"><i class="iconfont icon-home-fill"></i> <span>Home</span></a></li><li class="nav-item"><a class="nav-link" href="/archives/"><i class="iconfont icon-archive-fill"></i> <span>Archives</span></a></li><li class="nav-item"><a class="nav-link" href="/categories/"><i class="iconfont icon-category-fill"></i> <span>Categories</span></a></li><li class="nav-item"><a class="nav-link" href="/tags/"><i class="iconfont icon-tags-fill"></i> <span>Tags</span></a></li><li class="nav-item"><a class="nav-link" href="/about/"><i class="iconfont icon-user-fill"></i> <span>About</span></a></li><li class="nav-item"><a class="nav-link" href="/links/"><i class="iconfont icon-link-fill"></i> <span>Links</span></a></li><li class="nav-item" id="search-btn"><a class="nav-link" target="_self" href="javascript:;" data-toggle="modal" data-target="#modalSearch" aria-label="Search"><i class="iconfont icon-search"></i></a></li><li class="nav-item" id="color-toggle-btn"><a class="nav-link" target="_self" href="javascript:;" aria-label="Color Toggle"><i class="iconfont icon-dark" id="color-toggle-icon"></i></a></li></ul></div></div></nav><div id="banner" class="banner" parallax="true" style="background:url(https://cs-wlei224.obs.cn-south-1.myhuaweicloud.com/blog-imgs/202311151644178.png) no-repeat center center;background-size:cover"><div class="full-bg-img"><div class="mask flex-center" style="background-color:rgba(0,0,0,.3)"><div class="banner-text text-center fade-in-up"><div class="h2"><span id="subtitle" data-typed-text="尚医通"></span></div><div class="mt-3"><span class="post-meta mr-2"><i class="iconfont icon-author" aria-hidden="true"></i> WLei224 </span><span class="post-meta"><i class="iconfont icon-date-fill" aria-hidden="true"></i> <time datetime="2022-05-31 11:23" pubdate>May 31, 2022 am</time></span></div><div class="mt-1"><span class="post-meta mr-2"><i class="iconfont icon-chart"></i> 8.7k words </span><span class="post-meta mr-2"><i class="iconfont icon-clock-fill"></i> 73 mins </span><span id="busuanzi_container_page_pv" style="display:none"><i class="iconfont icon-eye" aria-hidden="true"></i> <span id="busuanzi_value_page_pv"></span> views</span></div></div></div></div></div></div></header><main><div class="container-fluid nopadding-x"><div class="row nomargin-x"><div class="side-col d-none d-lg-block col-lg-2"><aside class="sidebar" style="padding-left:2rem;margin-right:-1rem"><div id="toc"><p class="toc-header"><i class="iconfont icon-list"></i> <span>Table of Contents</span></p><div class="toc-body" id="toc-body"></div></div></aside></div><div class="col-lg-8 nopadding-x-md"><div class="container nopadding-x-md" id="board-ctn"><div id="board"><article class="post-content mx-auto"><h1 style="display:none">尚医通</h1><p class="note note-info">Last updated on November 15, 2023 pm<br><button onclick='window.location.href="https://github.com/WL2O2O/WL2O2O.github.io/edit/hexoBlog/source/_posts/shangyitong.md"' target="_blank" class="rounded-link">编辑文章✒️</button></p><style>.note{display:flex;flex-direction:column}.rounded-link{border-radius:10px;padding:4px;text-align:center;text-decoration:none;position:relative;width:100%;margin-left:auto;margin-right:10px}</style><p></p><div class="markdown-body"><blockquote><p>欢迎观看我的医院预约挂号平台项目笔记</p><p>axiba,图片在typora软件更新时被意外删除了！！！</p><p><img src="https://cdn.jsdelivr.net/gh/wl2o2o/blogCdn/img/202306211602425.png" srcset="/img/loading.gif" lazyload alt="测试一下"></p></blockquote><h1 id="尚医通学习笔记"><a href="#尚医通学习笔记" class="headerlink" title="尚医通学习笔记"></a>尚医通学习笔记</h1><p><em>前言：按照计划跟做项目，发现仍有一些令人不解的坑，为了解决问题耗费了更多的事件，通过手写和电子笔记以此列举学习成果，以便更好的复习。</em></p><blockquote><h2 id="项目介绍篇"><a href="#项目介绍篇" class="headerlink" title="项目介绍篇"></a>项目介绍篇</h2></blockquote><p>是一个预约挂号，就医问诊，解决患者就医难看病难的平台。</p><p>平台：用户前台（用户预约挂号）、管理员后台、医院管理后台（上传医院信息）</p><blockquote><h2 id="技术框架"><a href="#技术框架" class="headerlink" title="技术框架"></a>技术框架</h2></blockquote><p>微服务：使用<code>Docker</code>作为微服务的部署，启动中间件</p><p>​ <code>Spring Cloud</code> 作为整体框架</p><p>​ <code>nacos</code>注册中心</p><p>​ <code>feign</code>远程调用</p><p>​ <code>Spring Cloud GateWay</code>网关</p><p>数据库：</p><p>​ <code>MongoDB</code>、<code>MySQL</code>作为数据库</p><p>中间件：</p><p>​ <code>Rabbitmq</code>消息队列、<code>redis</code></p><p>功能性类库：</p><p>​ <code>JWT</code>登录验证、<code>EasyExcell</code>数据库导入导出</p><p><img src="https://cs-wlei224.obs.cn-south-1.myhuaweicloud.com/blog-imgs/202311151644178.png" srcset="/img/loading.gif" lazyload alt="架构图"></p><blockquote><h2 id="业务流程"><a href="#业务流程" class="headerlink" title="业务流程"></a>业务流程</h2></blockquote><p>医院通过医院管理后台上传医院的基本信息、预约规则信息、科室信息、排班信息。然后又管理平台进行审核，通过后预约挂号平台进行展示，用户就可以进行根据需求选择挂号，会调用医院挂号接口进行挂号，挂号成功之后，进行支付，取号，同时也可以取消预约，对应的预约状态也会进行实时更新。</p><blockquote><h2 id="项目亮点"><a href="#项目亮点" class="headerlink" title="项目亮点"></a>项目亮点</h2></blockquote><p>真实全面、贴合实际</p><p>什么是服务端渲染？</p><p>服务器先把数据请求好，并且拼接到恩安政的页面当中，再返回给客户端。</p><p>从何处请求数据呢？答：从后端，所以运行项目的时候，要先运行后端，否则会报错！</p><p>数据库是怎么划分的？</p><p>数据库分为MySQL和MongoDB，其中MySQL是关系型数据库，用来存储用户、订单、预约等关系型数据，MongoDB是一个介于关系数据库和非关系数据库之间的产品,是非关系数据库当中功能最丰富,最像关系数据库的,它支持的数据结构非常松散,是类似json的bson格式,因此可以存储比较复杂的数据类型。因为大多数数据操作在内存中进行，所以效率较高。本项目中用来存储一些医院本身的信息和一些不固定的信息，比较灵活!</p><p>后端亮点：</p><blockquote><h2 id="项目启动"><a href="#项目启动" class="headerlink" title="项目启动"></a>项目启动</h2></blockquote><p>后端</p><p>启动服务：</p><p>nacos</p><blockquote><p>可以用来管理微服务，提供服务的注册与发现，作为配置中心管理动态配置</p></blockquote><blockquote><h2 id="简历部分"><a href="#简历部分" class="headerlink" title="简历部分"></a>简历部分</h2></blockquote><p>前端：使用webpack来减小项目体积以及运行速度</p><h2 id="P64-redis"><a href="#P64-redis" class="headerlink" title="P64 redis"></a>P64 redis</h2><p>redis连接不上，贴一篇文章，包含conf文件的配置与redis.cli客户端的运行命令</p><p><a target="_blank" rel="noopener" href="https://blog.csdn.net/magicproblem/article/details/113238030">redis虚拟机与本地连接</a></p><p><a target="_blank" rel="noopener" href="https://www.runoob.com/redis/redis-install.html">虚拟机运行redis</a></p><h2 id="P65-配置nginx"><a href="#P65-配置nginx" class="headerlink" title="P65 配置nginx"></a>P65 配置nginx</h2><h2 id="P66-MongoDB"><a href="#P66-MongoDB" class="headerlink" title="P66 MongoDB"></a>P66 <code>MongoDB</code></h2><figure class="highlight dockerfile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs dockerfile">docker <span class="hljs-keyword">run</span><span class="language-bash"> -d --restart=always -p 27017:27017 --name mymongo -v /data/db:/data/db -d mongo</span><br>docker exec -it mongo bash<br></code></pre></td></tr></table></figure><figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs TXT">1、 Help查看命令提示 <br>db.help();<br>2、 切换/创建数据库<br>use test<br>如果数据库不存在，则创建数据库，否则切换到指定数据库<br>3、 查询所有数据库 <br>show dbs;<br>4、 删除当前使用数据库 <br>db.dropDatabase();<br>5、 查看当前使用的数据库 <br>db.getName();<br>6、 显示当前db状态 <br>db.stats();<br>7、 当前db版本 <br>db.version();<br>8、 查看当前db的链接机器地址 <br>db.getMongo〇;<br></code></pre></td></tr></table></figure><p>通过下图实例，我们也可以更直观的的了解Mongo中的一些概念：</p><h2 id="P67-——-P72-SpringBoot整合MongoDB"><a href="#P67-——-P72-SpringBoot整合MongoDB" class="headerlink" title="P67 —— P72 SpringBoot整合MongoDB"></a>P67 —— P72 SpringBoot整合MongoDB</h2><p>mongo Template CRUD实现方法：</p><figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs txt">常用方法<br>mongoTemplate.findAll(User.class): 查询User文档的全部数据<br>mongoTemplate.findById(&lt;id&gt;, User.class): 查询User文档id为id的数据<br>mongoTemplate.find(query, User.class);: 根据query内的查询条件查询<br>mongoTemplate.upsert(query, update, User.class): 修改<br>mongoTemplate.remove(query, User.class): 删除<br>mongoTemplate.insert(User): 新增<br>Query对象<br>1、创建一个query对象（用来封装所有条件对象)，再创建一个criteria对象（用来构建条件）<br>2、 精准条件：criteria.and(“key”).is(“条件”)<br>模糊条件：criteria.and(“key”).regex(“条件”)<br>3、封装条件：query.addCriteria(criteria)<br>4、大于（创建新的criteria）：Criteria gt = Criteria.where(“key”).gt（“条件”）<br>小于（创建新的criteria）：Criteria lt = Criteria.where(“key”).lt（“条件”）<br>5、Query.addCriteria(new Criteria().andOperator(gt,lt));<br>6、一个query中只能有一个andOperator()。其参数也可以是Criteria数组。<br>7、排序 ：query.with（new Sort(Sort.Direction.ASC, &quot;age&quot;). and(new Sort(Sort.Direction.DESC, &quot;date&quot;)))<br></code></pre></td></tr></table></figure><p>模糊查询方法：</p><blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs Java"><span class="hljs-comment">//模糊查询</span><br> <span class="hljs-meta">@Test</span><br> <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">findUsersLikeName</span><span class="hljs-params">()</span> &#123;<br>     <span class="hljs-type">String</span> <span class="hljs-variable">name</span> <span class="hljs-operator">=</span> <span class="hljs-string">&quot;est&quot;</span>;<br>     <span class="hljs-type">String</span> <span class="hljs-variable">regex</span> <span class="hljs-operator">=</span> String.format(<span class="hljs-string">&quot;%s%s%s&quot;</span>, <span class="hljs-string">&quot;^.*&quot;</span>, name, <span class="hljs-string">&quot;.*$&quot;</span>);<br>     <span class="hljs-comment">//regex正则表达式</span><br>     <span class="hljs-type">Pattern</span> <span class="hljs-variable">pattern</span> <span class="hljs-operator">=</span> Pattern.compile(regex, Pattern.CASE_INSENSITIVE);<br>     <span class="hljs-type">Query</span> <span class="hljs-variable">query</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Query</span>(Criteria.where(<span class="hljs-string">&quot;name&quot;</span>).regex(pattern));<br>     List&lt;User&gt; userList = mongoTemplate.find(query, User.class);<br>     System.out.println(userList);<br> &#125;<br></code></pre></td></tr></table></figure></blockquote><p>mongo repository CURD 实现方法：</p><p>总结一波，方法调用来说，整体差不多，都挺麻烦，但是不难看出，MongoTemplate更加灵活，MongoRepogistory简单一些。</p><h2 id="P73-数据接口-上传医院接口"><a href="#P73-数据接口-上传医院接口" class="headerlink" title="P73 数据接口-上传医院接口"></a>P73 数据接口-上传医院接口</h2><p>需求和准备——&gt;基础类创建——&gt;初步实现</p><p>涉及：json转换工具(JSONObject:map-&gt;字符串-&gt;对象）</p><h2 id="P79-mongodb模糊查询（带分页）"><a href="#P79-mongodb模糊查询（带分页）" class="headerlink" title="P79 mongodb模糊查询（带分页）"></a>P79 mongodb模糊查询（带分页）</h2><blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs Java"><span class="hljs-meta">@Override</span><br> <span class="hljs-keyword">public</span> Page&lt;Department&gt; <span class="hljs-title function_">findPageDepartment</span><span class="hljs-params">(<span class="hljs-type">int</span> page, <span class="hljs-type">int</span> limit, DepartmentQueryVo departmentQueryVo)</span> &#123;<br>     <span class="hljs-comment">//创建PageABLE对象，设置当前页与记录数</span><br>     <span class="hljs-type">Pageable</span> <span class="hljs-variable">pageable</span> <span class="hljs-operator">=</span> PageRequest.of(page-<span class="hljs-number">1</span>,limit);<br><br>     <span class="hljs-comment">//将QueryVo对象转换成department对象</span><br>     <span class="hljs-type">Department</span> <span class="hljs-variable">department</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Department</span>();<br>     BeanUtils.copyProperties(departmentQueryVo,department);<br>     <span class="hljs-comment">//创建example对象,这是mongodb中模糊查询的规则</span><br>     <span class="hljs-type">ExampleMatcher</span> <span class="hljs-variable">matcher</span> <span class="hljs-operator">=</span> ExampleMatcher.matching()<br>             .withStringMatcher(ExampleMatcher.StringMatcher.CONTAINING)<br>             .withIgnoreCase(<span class="hljs-literal">true</span>);<br>     Example&lt;Department&gt; example = Example.of(department,matcher);<br>     Page&lt;Department&gt; all = departmentRepository.findAll(example, pageable);<br>     <span class="hljs-keyword">return</span> all;<br> &#125;<br></code></pre></td></tr></table></figure></blockquote><p><strong>踩坑记录：</strong></p><figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs txt">访问mongo:<br>	环境：部署在虚拟机中的docker<br>	问题：navicat无法远程连接mongo——&gt;?<br>		解决：1、开启管理员root模式、重启docker：systemctl restart docker、进入mongo容器：docker exec -it /bin/bash、虚拟机配置文件bindIp设置为：0.0.0.0（可远程访问）<br>		<br>	问题：控制台空指针异常、前端显示数据异常——&gt;?<br>		解决：因为部署在虚拟机中，IP地址会改变，yygh_hosp中需要将配置文件更改为正确的IP。<br></code></pre></td></tr></table></figure><p>git许久未用，可能之前踩坑埋雷了，用以下方法得以解决：</p><h2 id="P80-后台系统-医院管理-需求和nacos启动"><a href="#P80-后台系统-医院管理-需求和nacos启动" class="headerlink" title="P80 后台系统-医院管理-需求和nacos启动"></a>P80 后台系统-医院管理-需求和nacos启动</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs html">nacos访问地址：http://虚拟机IP:8848/nacos<br></code></pre></td></tr></table></figure><p>记录一下：nacos（注册中心）可以远程调用两个springBoot项目，为什么要远程调用，因为项目的开发微服务可能部署在不同的服务器之上，因此需要注册中心nacos来管理。</p><blockquote><p>重点记忆，需要和熟练！！！</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><code class="hljs Java"><span class="hljs-comment">//mongodb的条件查询带分页</span><br><br>Controller:<br><br><span class="hljs-comment">//医院列表(条件查询带分页)</span><br> <span class="hljs-comment">//因为本方法是通过路径传递当前页值与记录数值，所以方法体中需要通过@PathVariable注解将值取到；</span><br> <span class="hljs-comment">//又因为本方法设计条件查询，条件已经被封装到Vo类中，所以方法体中需要传入Vo类。</span><br> <span class="hljs-meta">@PostMapping(&quot;list/&#123;page&#125;/&#123;limit&#125;&quot;)</span><br> <span class="hljs-keyword">public</span> Result <span class="hljs-title function_">listHosp</span><span class="hljs-params">(<span class="hljs-meta">@PathVariable</span> Integer page,</span><br><span class="hljs-params">                        <span class="hljs-meta">@PathVariable</span> Integer limit,</span><br><span class="hljs-params">                        HospitalQueryVo hospitalQueryVo)</span> &#123;<br>     Page&lt;Hospital&gt; pageModel = hospitalService.selectHospPage(page,limit,hospitalQueryVo);<br>     <span class="hljs-keyword">return</span> Result.ok(pageModel);<br> &#125;<br><br>service：<br><br><span class="hljs-comment">//条件查询医院列表分页</span><br> Page&lt;Hospital&gt; <span class="hljs-title function_">selectHospPage</span><span class="hljs-params">(Integer page, Integer limit, HospitalQueryVo hospitalQueryVo)</span>;<br><br>service实现类：<br><br><span class="hljs-comment">//医院列表（条件查询分页）  以下三个步骤是查询MOngoDB中的步骤</span><br> <span class="hljs-meta">@Override</span><br> <span class="hljs-keyword">public</span> Page&lt;Hospital&gt; <span class="hljs-title function_">selectHospPage</span><span class="hljs-params">(Integer page, Integer limit, HospitalQueryVo hospitalQueryVo)</span> &#123;<br>     <span class="hljs-comment">//创建pageable对象</span><br>     <span class="hljs-type">Pageable</span> <span class="hljs-variable">pageable</span> <span class="hljs-operator">=</span> PageRequest.of(page-<span class="hljs-number">1</span>,limit);<br>     <span class="hljs-comment">//创建条件查询匹配器</span><br>     <span class="hljs-type">ExampleMatcher</span> <span class="hljs-variable">matcher</span> <span class="hljs-operator">=</span> ExampleMatcher.matching()<br>             .withStringMatcher(ExampleMatcher.StringMatcher.CONTAINING)<br>             .withIgnoreCase(<span class="hljs-literal">true</span>);<br>     <span class="hljs-comment">//对象转换 Vo-&gt;hospital</span><br>     <span class="hljs-type">Hospital</span> <span class="hljs-variable">hospital</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Hospital</span>();<br>     <span class="hljs-comment">//通过bean工具类 直接进行对象转换 Vo-&gt;hospital</span><br>     BeanUtils.copyProperties(hospitalQueryVo,hospital);<br>     <span class="hljs-comment">//创建example实例对象</span><br>     Example&lt;Hospital&gt; example = Example.of(hospital,matcher);<br>     <span class="hljs-comment">//调用方法</span><br>     Page&lt;Hospital&gt; all = hospitalRepository.findAll(example, pageable);<br>     <span class="hljs-keyword">return</span> all;<br> &#125;<br></code></pre></td></tr></table></figure></blockquote><h2 id="P88-医院列表，前端整合"><a href="#P88-医院列表，前端整合" class="headerlink" title="P88 医院列表，前端整合"></a>P88 医院列表，前端整合</h2><p><strong>踩大坑记录：</strong></p><figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs txt">大坑！项目停滞！<br>	1、nacos、redis连接不上，拒绝连接的问题<br>    	解决方案：虚拟机本地redis-&gt;docker安装redis容器，并实现自启动、使用shell远程连接vm更加便捷！<br>    			若还是connect refused，就查看防火墙是否开放端口，若是使用的云服务器，则配置安全组开放端口。<br>    2、跨域问题：域名路径、域名端口、提交方式（get、post）都会造成跨域问题！<br>    	解决方案：idea中分页listHosp方法写成PostMapping，改成GetMapping即可!<br></code></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs linux">Linux相关命令：<br>	#docker pull之后，使用如下命令进行创建和启动容器，因为懒的配置，所以使用默认配置。<br>		docker run -itd --name redis -p 6379:6379 redis<br>	#docker ps：查看运行中的CONTAINER<br>	#docker进入容器<br>		docker exec -it mymongo /bin/bash<br>	#这个是使容器处于docker运行便自启动<br>		docker update redis --restart=always <br>	#docker重启命令<br>		systemctl restart docker<br>	#容器重启命令<br>		docker restart redis(自己命的名字或者CONTAINER ID)<br></code></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><code class="hljs linux">firewalled相关命令：<br>	(1)允许TCP的443端口到internal区域<br>   		firewall-cmd --zone=internal --add-port=443/tcp<br>   		firewall-cmd --list-all --zone=internal<br> <br>	(2)从internal区域将TCP的443端口移除<br>   		firewall-cmd --zone=internal --remove-port=443/tcp<br> <br>	(3)允许UDP的2048-2050端口到默认区域<br>   		firewall-cmd --add-port=2048-2050/udp<br>   		firewall-cmd --list-all<br>   		<br>   		<br>启动systemctl start firewalld<br>关闭systemctl stop firewalld<br>查看状态systemctl status firewalld<br>查看状态firewall-cmd --state<br>开机启用systemctl enable firewalld<br>开机禁用systemctl disable firewalld<br>查看端口<br>   		firewall-cmd --zone=public --list-ports<br><br>添加端口<br>      firewall-cmd --add-port=443/tcp --permanent //永久添加443端口,协议为tcp <br>重新加载<br>      firewall-cmd --reload //重新加载<br><br>删除端口<br>      firewall-cmd --zone=public --remove-port=80/tcp --permanent //删除tcp下的80端口<br><br>参数介绍：<br>firewall-cmd：是Linux提供的操作firewall的一个工具(注意没有字母“d”)；<br>--permanent：表示设置为持久；<br>--add-port：标识添加的端口<br>--remove-port:标识删除的端口<br></code></pre></td></tr></table></figure><p>下一步p89：实现更新医院上线状态功能。</p><h2 id="P89-P90医院的上线以及查看详细信息的功能"><a href="#P89-P90医院的上线以及查看详细信息的功能" class="headerlink" title="P89-P90医院的上线以及查看详细信息的功能"></a>P89-P90医院的上线以及查看详细信息的功能</h2><p>过程：常规的Controller-&gt;Service-&gt;ServiceImpl</p><p>问题：隐藏路由跳转真实路由：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs html">this.$router.push(&#123; path: &#x27;/hospSet/list&#x27; &#125;)<br></code></pre></td></tr></table></figure><h2 id="P91排班管理"><a href="#P91排班管理" class="headerlink" title="P91排班管理"></a>P91排班管理</h2><p>这块代码逻辑比较复杂，可以借此锻炼自己的需求分析+逻辑实现。</p><blockquote><p>赶进度，代码逻辑已经实现，从本初开始cv代码！！！P92</p><figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs TXT">以下代码必须整理明白，搞清楚其中的逻辑，需求如何实现！<br></code></pre></td></tr></table></figure></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><code class="hljs Java"><span class="hljs-comment">//根据医院编号，查询医院所有科室列表P92</span><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> List&lt;DepartmentVo&gt; <span class="hljs-title function_">findDeptTree</span><span class="hljs-params">(String hoscode)</span> &#123;<br>        <span class="hljs-comment">//创建list集合，用于最终数据封装</span><br>        List&lt;DepartmentVo&gt; result = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;();<br><br>        <span class="hljs-comment">//根据医院编号，查询医院所有科室信息</span><br>        <span class="hljs-type">Department</span> <span class="hljs-variable">departmentQuery</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Department</span>();<br>        departmentQuery.setHoscode(hoscode);<br>        <span class="hljs-type">Example</span> <span class="hljs-variable">example</span> <span class="hljs-operator">=</span> Example.of(departmentQuery);<br><br>        List&lt;Department&gt; departmentList = departmentRepository.findAll(example);<br>        <span class="hljs-comment">/**</span><br><span class="hljs-comment">         * 从本处开始cv</span><br><span class="hljs-comment">         * P92</span><br><span class="hljs-comment">         */</span><br>        <span class="hljs-comment">//根据大科室编号  bigcode 分组，获取每个大科室里面下级子科室</span><br>        Map&lt;String, List&lt;Department&gt;&gt; deparmentMap =<br>                departmentList.stream().collect(Collectors.groupingBy(Department::getBigcode));<br>        <span class="hljs-comment">//遍历map集合 deparmentMap</span><br>        <span class="hljs-keyword">for</span>(Map.Entry&lt;String,List&lt;Department&gt;&gt; entry : deparmentMap.entrySet()) &#123;<br>            <span class="hljs-comment">//大科室编号</span><br>            <span class="hljs-type">String</span> <span class="hljs-variable">bigcode</span> <span class="hljs-operator">=</span> entry.getKey();<br>            <span class="hljs-comment">//大科室编号对应的全局数据</span><br>            List&lt;Department&gt; deparment1List = entry.getValue();<br>            <span class="hljs-comment">//封装大科室</span><br>            <span class="hljs-type">DepartmentVo</span> <span class="hljs-variable">departmentVo1</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">DepartmentVo</span>();<br>            departmentVo1.setDepcode(bigcode);<br>            departmentVo1.setDepname(deparment1List.get(<span class="hljs-number">0</span>).getBigname());<br><br>            <span class="hljs-comment">//封装小科室</span><br>            List&lt;DepartmentVo&gt; children = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;();<br>            <span class="hljs-keyword">for</span>(Department department: deparment1List) &#123;<br>                <span class="hljs-type">DepartmentVo</span> <span class="hljs-variable">departmentVo2</span> <span class="hljs-operator">=</span>  <span class="hljs-keyword">new</span> <span class="hljs-title class_">DepartmentVo</span>();<br>                departmentVo2.setDepcode(department.getDepcode());<br>                departmentVo2.setDepname(department.getDepname());<br>                <span class="hljs-comment">//封装到list集合</span><br>                children.add(departmentVo2);<br>            &#125;<br>            <span class="hljs-comment">//把小科室list集合放到大科室children里面</span><br>            departmentVo1.setChildren(children);<br>            <span class="hljs-comment">//放到最终result里面</span><br>            result.add(departmentVo1);<br>        &#125;<br>        <span class="hljs-comment">//返回</span><br>        <span class="hljs-keyword">return</span> result;<br><br>    &#125;<br></code></pre></td></tr></table></figure><h2 id="P93显示科室的前端整合"><a href="#P93显示科室的前端整合" class="headerlink" title="P93显示科室的前端整合"></a>P93显示科室的前端整合</h2><p>一些基础的前端隐藏路由-》界面elemenUI+信息显示</p><p>完成科室信息树形结构显示</p><h2 id="P94"><a href="#P94" class="headerlink" title="P94"></a>P94</h2><p>接下来完成每个科室的树形结构排版信息显示。</p><p>涉及到信息的统计、分析与聚合（分组之后的数据）</p><h2 id="P95科室排班的分页信息显示"><a href="#P95科室排班的分页信息显示" class="headerlink" title="P95科室排班的分页信息显示"></a>P95科室排班的分页信息显示</h2><p>注意此处的代码逻辑书写，自己找时间练习</p><h2 id="P98"><a href="#P98" class="headerlink" title="P98"></a>P98</h2><p>遇到了排班详细信息不显示的问题，暂未解决！</p><h2 id="简历写法"><a href="#简历写法" class="headerlink" title="简历写法"></a>简历写法</h2><p>基于Vue+SpringBoot+SpringCloud+MongoDB+RabbitMQ+Gateway实现的问诊预约系统，用户可以进行微信单点登录、预约挂号、支付订单，管理员可以会员管理、订单管理、统计管理以及对数据字典的导入导出</p><p>一个前后端分离的在线预约挂号系统。用户可以预约挂号支付订单，管理员可以管理订单，医院 可以管理数据。使用Spring Cloud微服务框架，数据存储使用MongoDB和MySQL，中间件使用Redis和 RabbitMQ</p><p>同时还整合了定时任务,实现就医提醒功能,</p><p>综合应用了阿里云OSS,短信服务</p><p>以及微信登录、</p><p>微信支付,</p><p>同时增加了微信退款功能</p></div><hr><div><div class="post-metas my-3"><div class="post-meta mr-3 d-flex align-items-center"><i class="iconfont icon-category"></i> <span class="category-chains"><span class="category-chain"><a href="/categories/Project/" class="category-chain-item">Project</a></span></span></div><div class="post-meta"><i class="iconfont icon-tags"></i> <a href="/tags/Spring-Boot/">#Spring Boot</a> <a href="/tags/MySQL/">#MySQL</a> <a href="/tags/Redis/">#Redis</a> <a href="/tags/Spring-Cloud-GateWay/">#Spring Cloud GateWay</a> <a href="/tags/feign/">#feign</a> <a href="/tags/nacos/">#nacos</a> <a href="/tags/MongoDB/">#MongoDB</a> <a href="/tags/JWT/">#JWT</a> <a href="/tags/EasyExcell/">#EasyExcell</a></div></div><div class="license-box my-3"><div class="license-title"><div>尚医通</div><div>https://wl2o2o.github.io/2022/05/31/shangyitong/</div></div><div class="license-meta"><div class="license-meta-item"><div>Author</div><div>WLei224</div></div><div class="license-meta-item license-meta-date"><div>Posted on</div><div>May 31, 2022</div></div><div class="license-meta-item license-meta-date"><div>Updated on</div><div>November 15, 2023</div></div><div class="license-meta-item"><div>Licensed under</div><div><a target="_blank" href="https://creativecommons.org/licenses/by/4.0/"><span class="hint--top hint--rounded" aria-label="BY - Attribution"><i class="iconfont icon-by"></i></span></a></div></div></div><div class="license-icon iconfont"></div></div><div class="post-prevnext my-3"><article class="post-prev col-6"><a href="/2022/09/07/tip/" title="Tip 常用小技巧"><i class="iconfont icon-arrowleft"></i> <span class="hidden-mobile">Tip 常用小技巧</span> <span class="visible-mobile">Previous</span></a></article><article class="post-next col-6"><a href="/2022/05/04/%E5%A4%B4%E6%AD%8C%E5%AE%9E%E8%B7%B5%E6%95%99%E5%AD%A6%E5%B9%B3%E5%8F%B0-Linux%E7%BD%91%E7%BB%9C%E5%AE%9E%E6%88%98%EF%BC%88%E4%B8%80%EF%BC%89-DNS%E9%85%8D%E7%BD%AE%EF%BC%88Ubuntu%E7%B3%BB%E7%BB%9F%EF%BC%89/" title="头歌实践教学平台-Linux网络实战（一）-DNS配置（Ubuntu系统）"><span class="hidden-mobile">头歌实践教学平台-Linux网络实战（一）-DNS配置（Ubuntu系统）</span> <span class="visible-mobile">Next</span> <i class="iconfont icon-arrowright"></i></a></article></div></div><article id="comments" lazyload><div id="giscus" class="giscus"></div><script type="text/javascript">Fluid.utils.loadComments("#giscus",(function(){var t={repo:"WL2O2O/CS_GUIDER_Giscus","repo-id":"R_kgDOJYdTQw",category:"Announcements","category-id":"DIC_kwDOJYdTQ84CWKC6","theme-light":"light","theme-dark":"dark",mapping:"pathname","reactions-enabled":1,"emit-metadata":0,"input-position":"top",lang:"zh-CN"},e={};for(let i in t){if(!i.startsWith("theme-"))e[i.startsWith("data-")?i:"data-"+i]=t[i]}window.GiscusThemeLight="light",window.GiscusThemeDark="dark",e["data-theme"]="dark"===document.documentElement.getAttribute("data-user-color-scheme")?"dark":"light";for(let t in e){var i=e[t];null!=i&&""!==i||delete e[t]}var n=document.createElement("script");n.setAttribute("src","https://giscus.app/client.js"),n.setAttribute("crossorigin","anonymous");for(let t in e)n.setAttribute(t,e[t]);var a=document.getElementsByTagName("script"),r=a.length>0?a[a.length-1]:document.head||document.documentElement;r.parentNode.insertBefore(n,r.nextSibling)}))</script><noscript>Please enable JavaScript to view the comments</noscript></article></article></div></div></div><div class="side-col d-none d-lg-block col-lg-2"></div></div></div><a id="scroll-top-button" aria-label="TOP" href="#" role="button"><i class="iconfont icon-arrowup" aria-hidden="true"></i></a><div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel" aria-hidden="true"><div class="modal-dialog modal-dialog-scrollable modal-lg" role="document"><div class="modal-content"><div class="modal-header text-center"><h4 class="modal-title w-100 font-weight-bold">Search</h4><button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button></div><div class="modal-body mx-3"><div class="md-form mb-5"><input type="text" id="local-search-input" class="form-control validate"> <label data-error="x" data-success="v" for="local-search-input">Keyword</label></div><div class="list-group" id="local-search-result"></div></div></div></div></div></main><footer><div class="footer-inner"><div class="footer-content"><a href="https://hexo.io" target="_blank" rel="nofollow noopener"><span>Hexo</span></a> <i class="iconfont icon-love"></i> <a href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank" rel="nofollow noopener"><span>Fluid</span></a></div><div class="statistics"><span id="busuanzi_container_site_pv" style="display:none">Views: <span id="busuanzi_value_site_pv"></span> </span><span id="busuanzi_container_site_uv" style="display:none">Visitors: <span id="busuanzi_value_site_uv"></span></span></div><script>var _hmt=_hmt||[];!function(){var e=document.createElement("script");e.src="https://hm.baidu.com/hm.js?d3fa00bb6b7e75ff9e8cc8f3cc1a7e7c";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}()</script></div></footer><script src="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.js"></script><link rel="stylesheet" href="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.css"><script>NProgress.configure({showSpinner:!1,trickleSpeed:100}),NProgress.start(),window.addEventListener("load",(function(){NProgress.done()}))</script><script src="https://lib.baomitu.com/jquery/3.6.4/jquery.min.js"></script><script src="https://lib.baomitu.com/twitter-bootstrap/4.6.1/js/bootstrap.min.js"></script><script src="/js/events.js"></script><script src="/js/plugins.js"></script><script src="https://lib.baomitu.com/typed.js/2.0.12/typed.min.js"></script><script>!function(t,e){var i=Fluid.plugins.typing,n=e.getElementById("subtitle");n&&i&&i(n.getAttribute("data-typed-text"))}(window,document)</script><script src="/js/img-lazyload.js"></script><script>Fluid.utils.createScript("https://lib.baomitu.com/tocbot/4.20.1/tocbot.min.js",(function(){var t=jQuery("#toc");if(0!==t.length&&window.tocbot){var i=jQuery("#board-ctn").offset().top;window.tocbot.init(Object.assign({tocSelector:"#toc-body",contentSelector:".markdown-body",linkClass:"tocbot-link",activeLinkClass:"tocbot-active-link",listClass:"tocbot-list",isCollapsedClass:"tocbot-is-collapsed",collapsibleClass:"tocbot-is-collapsible",scrollSmooth:!0,includeTitleTags:!0,headingsOffset:-i},CONFIG.toc)),t.find(".toc-list-item").length>0&&t.css("visibility","visible"),Fluid.events.registerRefreshCallback((function(){if("tocbot"in window){tocbot.refresh();var t=jQuery("#toc");if(0===t.length||!tocbot)return;t.find(".toc-list-item").length>0&&t.css("visibility","visible")}}))}}))</script><script src="https://lib.baomitu.com/clipboard.js/2.0.11/clipboard.min.js"></script><script>Fluid.plugins.codeWidget()</script><script>Fluid.utils.createScript("https://lib.baomitu.com/anchor-js/4.3.1/anchor.min.js",(function(){window.anchors.options={placement:CONFIG.anchorjs.placement,visible:CONFIG.anchorjs.visible},CONFIG.anchorjs.icon&&(window.anchors.options.icon=CONFIG.anchorjs.icon);var n=(CONFIG.anchorjs.element||"h1,h2,h3,h4,h5,h6").split(","),o=[];for(var s of n)o.push(".markdown-body > "+s.trim());"left"===CONFIG.anchorjs.placement&&(window.anchors.options.class="anchorjs-link-left"),window.anchors.add(o.join(", ")),Fluid.events.registerRefreshCallback((function(){if("anchors"in window){anchors.removeAll();var n=(CONFIG.anchorjs.element||"h1,h2,h3,h4,h5,h6").split(","),o=[];for(var s of n)o.push(".markdown-body > "+s.trim());"left"===CONFIG.anchorjs.placement&&(anchors.options.class="anchorjs-link-left"),anchors.add(o.join(", "))}}))}))</script><script>Fluid.utils.createScript("https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.js",(function(){Fluid.plugins.fancyBox()}))</script><script>Fluid.plugins.imageCaption()</script><script src="/js/local-search.js"></script><script defer src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script src="/js/boot.js"></script><noscript><div class="noscript-warning">Blog works best with JavaScript enabled</div></noscript></body></html>
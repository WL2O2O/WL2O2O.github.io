<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><script async src="https://www.googletagmanager.com/gtag/js?id=G-MP1THLPZFC"></script><script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-MP1THLPZFC")</script><script>var _hmt=_hmt||[];!function(){var e=document.createElement("script");e.src="https://hm.baidu.com/hm.js?956b14594152e1b71ce14695a71235d5";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}()</script><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,minimum-scale=1"><meta http-equiv="X-UA-Compatible" content="ie=edge"><meta name="author" content="CS_GUIDER"><meta name="subtitle" content="If not now, when? If not me, who?"><meta name="description" content="欢迎来到我的CS_GUIDER博客！这里提供了全面、实用和最新的Java编程信息。你可以找到Java算法、项目、博客、数据库、Linux系统的教程和笔记。我致力于为您提供Java编程的实用指南和资源，包括Java框架、JVM和Git等。无论您是初学者还是经验丰富的开发人员，都可以从中获益。谢谢您的光临！"><title>尚医通 | CS_GUIDER&#39;S Blog</title><link rel="icon" href="/favicon.ico"><link rel="stylesheet" href="/css/main.css"><link rel="stylesheet" href="/lib/nprogress/nprogress.css"><script src="/lib/jquery.min.js"></script><script src="/lib/iconify-icon.min.js"></script><script src="https://cdn.tailwindcss.com?plugins=typography"></script><script>tailwind.config={darkMode:"class"}</script><script src="/lib/nprogress/nprogress.js"></script><script>$(document).ready(()=>{NProgress.configure({showSpinner:!1}),NProgress.start(),$("#nprogress .bar").css({background:"#de7441"}),$("#nprogress .peg").css({"box-shadow":"0 0 2px #de7441, 0 0 4px #de7441"}),$("#nprogress .spinner-icon").css({"border-top-color":"#de7441","border-left-color":"#de7441"}),setTimeout((function(){NProgress.done(),$(".fade").removeClass("out")}),800)})</script><script>!function(){const e=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches,t=localStorage.getItem("hexo-color-scheme")||"auto";("dark"===t||e&&"light"!==t)&&document.documentElement.classList.toggle("dark",!0);document.documentElement.classList.contains("dark")}(),$(document).ready((function(){const e=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches,t=document.documentElement.classList.contains("dark");function o(){const e=document.documentElement.classList.contains("dark"),t=document.querySelector("iframe.giscus-frame");t&&t.contentWindow.postMessage({giscus:{setConfig:{theme:e?"dark":"light"}}},"https://giscus.app")}function n(){let t=document.documentElement.classList.contains("dark");localStorage.getItem("hexo-color-scheme");t=!t,document.documentElement.classList.toggle("dark",t),$("#theme-icon").attr("icon",t?"ri:moon-line":"ri:sun-line"),e===t?localStorage.setItem("hexo-color-scheme","auto"):localStorage.setItem("hexo-color-scheme",t?"dark":"light"),o()}$("#theme-icon").attr("icon",t?"ri:moon-line":"ri:sun-line"),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",e=>{"auto"===(localStorage.getItem("hexo-color-scheme")||"auto")&&(document.documentElement.classList.toggle("dark",e.matches),$("#theme-icon").attr("icon",e.matches?"ri:moon-line":"ri:sun-line"),o())}),$("#toggle-dark").click(e=>{if(!(document.startViewTransition&&!window.matchMedia("(prefers-reduced-motion: reduce)").matches))return void n();const t=e.clientX,o=e.clientY,c=Math.hypot(Math.max(t,innerWidth-t),Math.max(o,innerHeight-o));document.startViewTransition(async()=>{n()}).ready.then(()=>{const e=document.documentElement.classList.contains("dark"),n=[`circle(0px at ${t}px ${o}px)`,`circle(${c}px at ${t}px ${o}px)`];document.documentElement.animate({clipPath:e?[...n].reverse():n},{duration:400,easing:"ease-out",pseudoElement:e?"::view-transition-old(root)":"::view-transition-new(root)"})})})}))</script><meta name="generator" content="Hexo 5.4.2"></head><body class="font-sans bg-white dark:bg-zinc-900 text-gray-700 dark:text-gray-200 relative"><header class="fixed w-full px-5 py-1 z-10 backdrop-blur-xl backdrop-saturate-150 border-b border-black/5"><div class="max-auto"><nav class="flex items-center text-base"><a href="/" class="group"><h2 class="font-medium tracking-tighterp text-l p-2"><img class="w-5 mr-2 inline-block transition-transform group-hover:rotate-[30deg]" id="logo" src="/img/logo.svg" alt="CS_GUIDER'S Blog"> CS_GUIDER&#39;S Blog</h2></a><div id="header-title" class="opacity-0 md:ml-2 md:mt-[0.1rem] text-xs font-medium whitespace-nowrap overflow-hidden overflow-ellipsis">尚医通</div><div class="flex-1"></div><div class="flex items-center gap-3"><a class="hidden sm:flex" href="/">Home</a> <a class="hidden sm:flex" href="/archives">Archives</a> <a class="hidden sm:flex" href="/category">Categories</a> <a class="hidden sm:flex" href="/tag">Tags</a> <a class="w-5 h-5 hidden sm:flex" title="Github" target="_blank" rel="noopener" href="https://github.com/wl2o2o"><iconify-icon width="20" icon="ri:github-line"></iconify-icon></a><a class="w-5 h-5 hidden sm:flex" title="Github" href="rss2.xml"><iconify-icon width="20" icon="ri:rss-line"></iconify-icon></a><a class="w-5 h-5" title="toggle theme" id="toggle-dark"><iconify-icon width="20" icon="" id="theme-icon"></iconify-icon></a></div><div class="flex items-center justify-center gap-3 ml-3 sm:hidden"><span class="w-5 h-5" aria-hidden="true" role="img" id="open-menu"><iconify-icon width="20" icon="carbon:menu"></iconify-icon></span><span class="w-5 h-5 hidden" aria-hidden="true" role="img" id="close-menu"><iconify-icon width="20" icon="carbon:close"></iconify-icon></span></div></nav></div></header><div id="menu-panel" class="h-0 overflow-hidden sm:hidden fixed left-0 right-0 top-12 bottom-0 z-10"><div id="menu-content" class="relative z-20 bg-white/80 px-6 sm:px-8 py-2 backdrop-blur-xl -translate-y-full transition-transform duration-300"><ul class="nav flex flex-col sm:flex-row text-sm font-medium"><li class="nav-portfolio sm:mx-2 border-b sm:border-0 border-black/5 last:border-0 hover:text-main"><a href="/" class="flex h-12 sm:h-auto items-center">Home</a></li><li class="nav-portfolio sm:mx-2 border-b sm:border-0 border-black/5 last:border-0 hover:text-main"><a href="/archives" class="flex h-12 sm:h-auto items-center">Archives</a></li><li class="nav-portfolio sm:mx-2 border-b sm:border-0 border-black/5 last:border-0 hover:text-main"><a href="/category" class="flex h-12 sm:h-auto items-center">Categories</a></li><li class="nav-portfolio sm:mx-2 border-b sm:border-0 border-black/5 last:border-0 hover:text-main"><a href="/tag" class="flex h-12 sm:h-auto items-center">Tags</a></li></ul></div><div class="mask bg-black/20 absolute inset-0"></div></div><main class="pt-14"><link rel="stylesheet" href="/lib/fancybox/fancybox.min.css"><link rel="stylesheet" href="/lib/tocbot/tocbot.min.css"><nav class="post-toc toc text-sm w-48 relative top-32 right-0 opacity-70 hidden lg:block" style="position:fixed!important"></nav><section class="px-6 max-w-prose mx-auto md:px-0"><header class="overflow-hidden pt-6 pb-6 md:pt-12"><div class="pt-4 md:pt-6"><h1 id="article-title" class="text-[2rem] font-bold leading-snug mb-4 md:mb-6 md:text-[2.6rem]">尚医通</h1><div><section class="flex items-center gap-3 text-sm"><span class="flex items-center gap-1"><iconify-icon width="18" icon="carbon-calendar"></iconify-icon><time>2025-09-17</time> </span><span class="text-gray-400">·</span> <span class="flex items-center gap-1"><iconify-icon width="18" icon="ic:round-access-alarm"></iconify-icon><span>12 min</span> </span><span class="text-gray-400">·</span> <span class="flex items-center gap-1"><iconify-icon width="18" icon="icon-park-outline:font-search"></iconify-icon><span>3.1k words</span> </span><span class="text-gray-400">·</span> <span class="flex items-center gap-1"><iconify-icon width="16" icon="icon-park-outline:box" class="mr-2"></iconify-icon><a class="article-category-link" href="/categories/Project/">Project</a></span></section></div></div></header><article class="post-content prose m-auto slide-enter-content dark:prose-invert"><blockquote><p>欢迎观看我的医院预约挂号平台项目笔记</p><p>axiba,图片在typora软件更新时被意外删除了！！！</p><p><img src="https://cdn.jsdelivr.net/gh/wl2o2o/blogCdn/img/202306211602425.png" alt="测试一下"></p></blockquote><h1 id="尚医通学习笔记"><a href="#尚医通学习笔记" class="headerlink" title="尚医通学习笔记"></a>尚医通学习笔记</h1><p><em>前言：按照计划跟做项目，发现仍有一些令人不解的坑，为了解决问题耗费了更多的事件，通过手写和电子笔记以此列举学习成果，以便更好的复习。</em></p><blockquote><h2 id="项目介绍篇"><a href="#项目介绍篇" class="headerlink" title="项目介绍篇"></a>项目介绍篇</h2></blockquote><p>是一个预约挂号，就医问诊，解决患者就医难看病难的平台。</p><p>平台：用户前台（用户预约挂号）、管理员后台、医院管理后台（上传医院信息）</p><blockquote><h2 id="技术框架"><a href="#技术框架" class="headerlink" title="技术框架"></a>技术框架</h2></blockquote><p>微服务：使用<code>Docker</code>作为微服务的部署，启动中间件</p><p>​ <code>Spring Cloud</code> 作为整体框架</p><p>​ <code>nacos</code>注册中心</p><p>​ <code>feign</code>远程调用</p><p>​ <code>Spring Cloud GateWay</code>网关</p><p>数据库：</p><p>​ <code>MongoDB</code>、<code>MySQL</code>作为数据库</p><p>中间件：</p><p>​ <code>Rabbitmq</code>消息队列、<code>redis</code></p><p>功能性类库：</p><p>​ <code>JWT</code>登录验证、<code>EasyExcell</code>数据库导入导出</p><p><img src="https://cs-wlei224.obs.cn-south-1.myhuaweicloud.com/blog-imgs/202311151644178.png" alt="架构图"></p><blockquote><h2 id="业务流程"><a href="#业务流程" class="headerlink" title="业务流程"></a>业务流程</h2></blockquote><p>医院通过医院管理后台上传医院的基本信息、预约规则信息、科室信息、排班信息。然后又管理平台进行审核，通过后预约挂号平台进行展示，用户就可以进行根据需求选择挂号，会调用医院挂号接口进行挂号，挂号成功之后，进行支付，取号，同时也可以取消预约，对应的预约状态也会进行实时更新。</p><blockquote><h2 id="项目亮点"><a href="#项目亮点" class="headerlink" title="项目亮点"></a>项目亮点</h2></blockquote><p>真实全面、贴合实际</p><p>什么是服务端渲染？</p><p>服务器先把数据请求好，并且拼接到恩安政的页面当中，再返回给客户端。</p><p>从何处请求数据呢？答：从后端，所以运行项目的时候，要先运行后端，否则会报错！</p><p>数据库是怎么划分的？</p><p>数据库分为MySQL和MongoDB，其中MySQL是关系型数据库，用来存储用户、订单、预约等关系型数据，MongoDB是一个介于关系数据库和非关系数据库之间的产品,是非关系数据库当中功能最丰富,最像关系数据库的,它支持的数据结构非常松散,是类似json的bson格式,因此可以存储比较复杂的数据类型。因为大多数数据操作在内存中进行，所以效率较高。本项目中用来存储一些医院本身的信息和一些不固定的信息，比较灵活!</p><p>后端亮点：</p><blockquote><h2 id="项目启动"><a href="#项目启动" class="headerlink" title="项目启动"></a>项目启动</h2></blockquote><p>后端</p><p>启动服务：</p><p>nacos</p><blockquote><p>可以用来管理微服务，提供服务的注册与发现，作为配置中心管理动态配置</p></blockquote><blockquote><h2 id="简历部分"><a href="#简历部分" class="headerlink" title="简历部分"></a>简历部分</h2></blockquote><p>前端：使用webpack来减小项目体积以及运行速度</p><h2 id="P64-redis"><a href="#P64-redis" class="headerlink" title="P64 redis"></a>P64 redis</h2><p>redis连接不上，贴一篇文章，包含conf文件的配置与redis.cli客户端的运行命令</p><p><a target="_blank" rel="noopener" href="https://blog.csdn.net/magicproblem/article/details/113238030">redis虚拟机与本地连接</a></p><p><a target="_blank" rel="noopener" href="https://www.runoob.com/redis/redis-install.html">虚拟机运行redis</a></p><h2 id="P65-配置nginx"><a href="#P65-配置nginx" class="headerlink" title="P65 配置nginx"></a>P65 配置nginx</h2><h2 id="P66-MongoDB"><a href="#P66-MongoDB" class="headerlink" title="P66 MongoDB"></a>P66 <code>MongoDB</code></h2><figure class="highlight dockerfile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">docker <span class="keyword">run</span><span class="language-bash"> -d --restart=always -p 27017:27017 --name mymongo -v /data/db:/data/db -d mongo</span></span><br><span class="line">docker exec -it mongo bash</span><br></pre></td></tr></table></figure><figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">1、 Help查看命令提示 </span><br><span class="line">db.help();</span><br><span class="line">2、 切换/创建数据库</span><br><span class="line">use test</span><br><span class="line">如果数据库不存在，则创建数据库，否则切换到指定数据库</span><br><span class="line">3、 查询所有数据库 </span><br><span class="line">show dbs;</span><br><span class="line">4、 删除当前使用数据库 </span><br><span class="line">db.dropDatabase();</span><br><span class="line">5、 查看当前使用的数据库 </span><br><span class="line">db.getName();</span><br><span class="line">6、 显示当前db状态 </span><br><span class="line">db.stats();</span><br><span class="line">7、 当前db版本 </span><br><span class="line">db.version();</span><br><span class="line">8、 查看当前db的链接机器地址 </span><br><span class="line">db.getMongo〇;</span><br></pre></td></tr></table></figure><p>通过下图实例，我们也可以更直观的的了解Mongo中的一些概念：</p><h2 id="P67-——-P72-SpringBoot整合MongoDB"><a href="#P67-——-P72-SpringBoot整合MongoDB" class="headerlink" title="P67 —— P72 SpringBoot整合MongoDB"></a>P67 —— P72 SpringBoot整合MongoDB</h2><p>mongo Template CRUD实现方法：</p><figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">常用方法</span><br><span class="line">mongoTemplate.findAll(User.class): 查询User文档的全部数据</span><br><span class="line">mongoTemplate.findById(&lt;id&gt;, User.class): 查询User文档id为id的数据</span><br><span class="line">mongoTemplate.find(query, User.class);: 根据query内的查询条件查询</span><br><span class="line">mongoTemplate.upsert(query, update, User.class): 修改</span><br><span class="line">mongoTemplate.remove(query, User.class): 删除</span><br><span class="line">mongoTemplate.insert(User): 新增</span><br><span class="line">Query对象</span><br><span class="line">1、创建一个query对象（用来封装所有条件对象)，再创建一个criteria对象（用来构建条件）</span><br><span class="line">2、 精准条件：criteria.and(“key”).is(“条件”)</span><br><span class="line">模糊条件：criteria.and(“key”).regex(“条件”)</span><br><span class="line">3、封装条件：query.addCriteria(criteria)</span><br><span class="line">4、大于（创建新的criteria）：Criteria gt = Criteria.where(“key”).gt（“条件”）</span><br><span class="line">小于（创建新的criteria）：Criteria lt = Criteria.where(“key”).lt（“条件”）</span><br><span class="line">5、Query.addCriteria(new Criteria().andOperator(gt,lt));</span><br><span class="line">6、一个query中只能有一个andOperator()。其参数也可以是Criteria数组。</span><br><span class="line">7、排序 ：query.with（new Sort(Sort.Direction.ASC, &quot;age&quot;). and(new Sort(Sort.Direction.DESC, &quot;date&quot;)))</span><br></pre></td></tr></table></figure><p>模糊查询方法：</p><blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//模糊查询</span></span><br><span class="line"> <span class="meta">@Test</span></span><br><span class="line"> <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">findUsersLikeName</span><span class="params">()</span> &#123;</span><br><span class="line">     <span class="type">String</span> <span class="variable">name</span> <span class="operator">=</span> <span class="string">&quot;est&quot;</span>;</span><br><span class="line">     <span class="type">String</span> <span class="variable">regex</span> <span class="operator">=</span> String.format(<span class="string">&quot;%s%s%s&quot;</span>, <span class="string">&quot;^.*&quot;</span>, name, <span class="string">&quot;.*$&quot;</span>);</span><br><span class="line">     <span class="comment">//regex正则表达式</span></span><br><span class="line">     <span class="type">Pattern</span> <span class="variable">pattern</span> <span class="operator">=</span> Pattern.compile(regex, Pattern.CASE_INSENSITIVE);</span><br><span class="line">     <span class="type">Query</span> <span class="variable">query</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Query</span>(Criteria.where(<span class="string">&quot;name&quot;</span>).regex(pattern));</span><br><span class="line">     List&lt;User&gt; userList = mongoTemplate.find(query, User.class);</span><br><span class="line">     System.out.println(userList);</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure></blockquote><p>mongo repository CURD 实现方法：</p><p>总结一波，方法调用来说，整体差不多，都挺麻烦，但是不难看出，MongoTemplate更加灵活，MongoRepogistory简单一些。</p><h2 id="P73-数据接口-上传医院接口"><a href="#P73-数据接口-上传医院接口" class="headerlink" title="P73 数据接口-上传医院接口"></a>P73 数据接口-上传医院接口</h2><p>需求和准备——&gt;基础类创建——&gt;初步实现</p><p>涉及：json转换工具(JSONObject:map-&gt;字符串-&gt;对象）</p><h2 id="P79-mongodb模糊查询（带分页）"><a href="#P79-mongodb模糊查询（带分页）" class="headerlink" title="P79 mongodb模糊查询（带分页）"></a>P79 mongodb模糊查询（带分页）</h2><blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Override</span></span><br><span class="line"> <span class="keyword">public</span> Page&lt;Department&gt; <span class="title function_">findPageDepartment</span><span class="params">(<span class="type">int</span> page, <span class="type">int</span> limit, DepartmentQueryVo departmentQueryVo)</span> &#123;</span><br><span class="line">     <span class="comment">//创建PageABLE对象，设置当前页与记录数</span></span><br><span class="line">     <span class="type">Pageable</span> <span class="variable">pageable</span> <span class="operator">=</span> PageRequest.of(page-<span class="number">1</span>,limit);</span><br><span class="line"></span><br><span class="line">     <span class="comment">//将QueryVo对象转换成department对象</span></span><br><span class="line">     <span class="type">Department</span> <span class="variable">department</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Department</span>();</span><br><span class="line">     BeanUtils.copyProperties(departmentQueryVo,department);</span><br><span class="line">     <span class="comment">//创建example对象,这是mongodb中模糊查询的规则</span></span><br><span class="line">     <span class="type">ExampleMatcher</span> <span class="variable">matcher</span> <span class="operator">=</span> ExampleMatcher.matching()</span><br><span class="line">             .withStringMatcher(ExampleMatcher.StringMatcher.CONTAINING)</span><br><span class="line">             .withIgnoreCase(<span class="literal">true</span>);</span><br><span class="line">     Example&lt;Department&gt; example = Example.of(department,matcher);</span><br><span class="line">     Page&lt;Department&gt; all = departmentRepository.findAll(example, pageable);</span><br><span class="line">     <span class="keyword">return</span> all;</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure></blockquote><p><strong>踩坑记录：</strong></p><figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">访问mongo:</span><br><span class="line">	环境：部署在虚拟机中的docker</span><br><span class="line">	问题：navicat无法远程连接mongo——&gt;?</span><br><span class="line">		解决：1、开启管理员root模式、重启docker：systemctl restart docker、进入mongo容器：docker exec -it /bin/bash、虚拟机配置文件bindIp设置为：0.0.0.0（可远程访问）</span><br><span class="line">		</span><br><span class="line">	问题：控制台空指针异常、前端显示数据异常——&gt;?</span><br><span class="line">		解决：因为部署在虚拟机中，IP地址会改变，yygh_hosp中需要将配置文件更改为正确的IP。</span><br></pre></td></tr></table></figure><p>git许久未用，可能之前踩坑埋雷了，用以下方法得以解决：</p><h2 id="P80-后台系统-医院管理-需求和nacos启动"><a href="#P80-后台系统-医院管理-需求和nacos启动" class="headerlink" title="P80 后台系统-医院管理-需求和nacos启动"></a>P80 后台系统-医院管理-需求和nacos启动</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nacos访问地址：http://虚拟机IP:8848/nacos</span><br></pre></td></tr></table></figure><p>记录一下：nacos（注册中心）可以远程调用两个springBoot项目，为什么要远程调用，因为项目的开发微服务可能部署在不同的服务器之上，因此需要注册中心nacos来管理。</p><blockquote><p>重点记忆，需要和熟练！！！</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//mongodb的条件查询带分页</span></span><br><span class="line"></span><br><span class="line">Controller:</span><br><span class="line"></span><br><span class="line"><span class="comment">//医院列表(条件查询带分页)</span></span><br><span class="line"> <span class="comment">//因为本方法是通过路径传递当前页值与记录数值，所以方法体中需要通过@PathVariable注解将值取到；</span></span><br><span class="line"> <span class="comment">//又因为本方法设计条件查询，条件已经被封装到Vo类中，所以方法体中需要传入Vo类。</span></span><br><span class="line"> <span class="meta">@PostMapping(&quot;list/&#123;page&#125;/&#123;limit&#125;&quot;)</span></span><br><span class="line"> <span class="keyword">public</span> Result <span class="title function_">listHosp</span><span class="params">(<span class="meta">@PathVariable</span> Integer page,</span></span><br><span class="line"><span class="params">                        <span class="meta">@PathVariable</span> Integer limit,</span></span><br><span class="line"><span class="params">                        HospitalQueryVo hospitalQueryVo)</span> &#123;</span><br><span class="line">     Page&lt;Hospital&gt; pageModel = hospitalService.selectHospPage(page,limit,hospitalQueryVo);</span><br><span class="line">     <span class="keyword">return</span> Result.ok(pageModel);</span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line">service：</span><br><span class="line"></span><br><span class="line"><span class="comment">//条件查询医院列表分页</span></span><br><span class="line"> Page&lt;Hospital&gt; <span class="title function_">selectHospPage</span><span class="params">(Integer page, Integer limit, HospitalQueryVo hospitalQueryVo)</span>;</span><br><span class="line"></span><br><span class="line">service实现类：</span><br><span class="line"></span><br><span class="line"><span class="comment">//医院列表（条件查询分页）  以下三个步骤是查询MOngoDB中的步骤</span></span><br><span class="line"> <span class="meta">@Override</span></span><br><span class="line"> <span class="keyword">public</span> Page&lt;Hospital&gt; <span class="title function_">selectHospPage</span><span class="params">(Integer page, Integer limit, HospitalQueryVo hospitalQueryVo)</span> &#123;</span><br><span class="line">     <span class="comment">//创建pageable对象</span></span><br><span class="line">     <span class="type">Pageable</span> <span class="variable">pageable</span> <span class="operator">=</span> PageRequest.of(page-<span class="number">1</span>,limit);</span><br><span class="line">     <span class="comment">//创建条件查询匹配器</span></span><br><span class="line">     <span class="type">ExampleMatcher</span> <span class="variable">matcher</span> <span class="operator">=</span> ExampleMatcher.matching()</span><br><span class="line">             .withStringMatcher(ExampleMatcher.StringMatcher.CONTAINING)</span><br><span class="line">             .withIgnoreCase(<span class="literal">true</span>);</span><br><span class="line">     <span class="comment">//对象转换 Vo-&gt;hospital</span></span><br><span class="line">     <span class="type">Hospital</span> <span class="variable">hospital</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Hospital</span>();</span><br><span class="line">     <span class="comment">//通过bean工具类 直接进行对象转换 Vo-&gt;hospital</span></span><br><span class="line">     BeanUtils.copyProperties(hospitalQueryVo,hospital);</span><br><span class="line">     <span class="comment">//创建example实例对象</span></span><br><span class="line">     Example&lt;Hospital&gt; example = Example.of(hospital,matcher);</span><br><span class="line">     <span class="comment">//调用方法</span></span><br><span class="line">     Page&lt;Hospital&gt; all = hospitalRepository.findAll(example, pageable);</span><br><span class="line">     <span class="keyword">return</span> all;</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure></blockquote><h2 id="P88-医院列表，前端整合"><a href="#P88-医院列表，前端整合" class="headerlink" title="P88 医院列表，前端整合"></a>P88 医院列表，前端整合</h2><p><strong>踩大坑记录：</strong></p><figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">大坑！项目停滞！</span><br><span class="line">	1、nacos、redis连接不上，拒绝连接的问题</span><br><span class="line">    	解决方案：虚拟机本地redis-&gt;docker安装redis容器，并实现自启动、使用shell远程连接vm更加便捷！</span><br><span class="line">    			若还是connect refused，就查看防火墙是否开放端口，若是使用的云服务器，则配置安全组开放端口。</span><br><span class="line">    2、跨域问题：域名路径、域名端口、提交方式（get、post）都会造成跨域问题！</span><br><span class="line">    	解决方案：idea中分页listHosp方法写成PostMapping，改成GetMapping即可!</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">Linux相关命令：</span><br><span class="line">	#docker pull之后，使用如下命令进行创建和启动容器，因为懒的配置，所以使用默认配置。</span><br><span class="line">		docker run -itd --name redis -p 6379:6379 redis</span><br><span class="line">	#docker ps：查看运行中的CONTAINER</span><br><span class="line">	#docker进入容器</span><br><span class="line">		docker exec -it mymongo /bin/bash</span><br><span class="line">	#这个是使容器处于docker运行便自启动</span><br><span class="line">		docker update redis --restart=always </span><br><span class="line">	#docker重启命令</span><br><span class="line">		systemctl restart docker</span><br><span class="line">	#容器重启命令</span><br><span class="line">		docker restart redis(自己命的名字或者CONTAINER ID)</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">firewalled相关命令：</span><br><span class="line">	(1)允许TCP的443端口到internal区域</span><br><span class="line">   		firewall-cmd --zone=internal --add-port=443/tcp</span><br><span class="line">   		firewall-cmd --list-all --zone=internal</span><br><span class="line"> </span><br><span class="line">	(2)从internal区域将TCP的443端口移除</span><br><span class="line">   		firewall-cmd --zone=internal --remove-port=443/tcp</span><br><span class="line"> </span><br><span class="line">	(3)允许UDP的2048-2050端口到默认区域</span><br><span class="line">   		firewall-cmd --add-port=2048-2050/udp</span><br><span class="line">   		firewall-cmd --list-all</span><br><span class="line">   		</span><br><span class="line">   		</span><br><span class="line">启动systemctl start firewalld</span><br><span class="line">关闭systemctl stop firewalld</span><br><span class="line">查看状态systemctl status firewalld</span><br><span class="line">查看状态firewall-cmd --state</span><br><span class="line">开机启用systemctl enable firewalld</span><br><span class="line">开机禁用systemctl disable firewalld</span><br><span class="line">查看端口</span><br><span class="line">   		firewall-cmd --zone=public --list-ports</span><br><span class="line"></span><br><span class="line">添加端口</span><br><span class="line">      firewall-cmd --add-port=443/tcp --permanent //永久添加443端口,协议为tcp </span><br><span class="line">重新加载</span><br><span class="line">      firewall-cmd --reload //重新加载</span><br><span class="line"></span><br><span class="line">删除端口</span><br><span class="line">      firewall-cmd --zone=public --remove-port=80/tcp --permanent //删除tcp下的80端口</span><br><span class="line"></span><br><span class="line">参数介绍：</span><br><span class="line">firewall-cmd：是Linux提供的操作firewall的一个工具(注意没有字母“d”)；</span><br><span class="line">--permanent：表示设置为持久；</span><br><span class="line">--add-port：标识添加的端口</span><br><span class="line">--remove-port:标识删除的端口</span><br></pre></td></tr></table></figure><p>下一步p89：实现更新医院上线状态功能。</p><h2 id="P89-P90医院的上线以及查看详细信息的功能"><a href="#P89-P90医院的上线以及查看详细信息的功能" class="headerlink" title="P89-P90医院的上线以及查看详细信息的功能"></a>P89-P90医院的上线以及查看详细信息的功能</h2><p>过程：常规的Controller-&gt;Service-&gt;ServiceImpl</p><p>问题：隐藏路由跳转真实路由：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">this.$router.push(&#123; path: &#x27;/hospSet/list&#x27; &#125;)</span><br></pre></td></tr></table></figure><h2 id="P91排班管理"><a href="#P91排班管理" class="headerlink" title="P91排班管理"></a>P91排班管理</h2><p>这块代码逻辑比较复杂，可以借此锻炼自己的需求分析+逻辑实现。</p><blockquote><p>赶进度，代码逻辑已经实现，从本初开始cv代码！！！P92</p><figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">以下代码必须整理明白，搞清楚其中的逻辑，需求如何实现！</span><br></pre></td></tr></table></figure></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//根据医院编号，查询医院所有科室列表P92</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> List&lt;DepartmentVo&gt; <span class="title function_">findDeptTree</span><span class="params">(String hoscode)</span> &#123;</span><br><span class="line">        <span class="comment">//创建list集合，用于最终数据封装</span></span><br><span class="line">        List&lt;DepartmentVo&gt; result = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line"></span><br><span class="line">        <span class="comment">//根据医院编号，查询医院所有科室信息</span></span><br><span class="line">        <span class="type">Department</span> <span class="variable">departmentQuery</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Department</span>();</span><br><span class="line">        departmentQuery.setHoscode(hoscode);</span><br><span class="line">        <span class="type">Example</span> <span class="variable">example</span> <span class="operator">=</span> Example.of(departmentQuery);</span><br><span class="line"></span><br><span class="line">        List&lt;Department&gt; departmentList = departmentRepository.findAll(example);</span><br><span class="line">        <span class="comment">/**</span></span><br><span class="line"><span class="comment">         * 从本处开始cv</span></span><br><span class="line"><span class="comment">         * P92</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">        <span class="comment">//根据大科室编号  bigcode 分组，获取每个大科室里面下级子科室</span></span><br><span class="line">        Map&lt;String, List&lt;Department&gt;&gt; deparmentMap =</span><br><span class="line">                departmentList.stream().collect(Collectors.groupingBy(Department::getBigcode));</span><br><span class="line">        <span class="comment">//遍历map集合 deparmentMap</span></span><br><span class="line">        <span class="keyword">for</span>(Map.Entry&lt;String,List&lt;Department&gt;&gt; entry : deparmentMap.entrySet()) &#123;</span><br><span class="line">            <span class="comment">//大科室编号</span></span><br><span class="line">            <span class="type">String</span> <span class="variable">bigcode</span> <span class="operator">=</span> entry.getKey();</span><br><span class="line">            <span class="comment">//大科室编号对应的全局数据</span></span><br><span class="line">            List&lt;Department&gt; deparment1List = entry.getValue();</span><br><span class="line">            <span class="comment">//封装大科室</span></span><br><span class="line">            <span class="type">DepartmentVo</span> <span class="variable">departmentVo1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">DepartmentVo</span>();</span><br><span class="line">            departmentVo1.setDepcode(bigcode);</span><br><span class="line">            departmentVo1.setDepname(deparment1List.get(<span class="number">0</span>).getBigname());</span><br><span class="line"></span><br><span class="line">            <span class="comment">//封装小科室</span></span><br><span class="line">            List&lt;DepartmentVo&gt; children = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">            <span class="keyword">for</span>(Department department: deparment1List) &#123;</span><br><span class="line">                <span class="type">DepartmentVo</span> <span class="variable">departmentVo2</span> <span class="operator">=</span>  <span class="keyword">new</span> <span class="title class_">DepartmentVo</span>();</span><br><span class="line">                departmentVo2.setDepcode(department.getDepcode());</span><br><span class="line">                departmentVo2.setDepname(department.getDepname());</span><br><span class="line">                <span class="comment">//封装到list集合</span></span><br><span class="line">                children.add(departmentVo2);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">//把小科室list集合放到大科室children里面</span></span><br><span class="line">            departmentVo1.setChildren(children);</span><br><span class="line">            <span class="comment">//放到最终result里面</span></span><br><span class="line">            result.add(departmentVo1);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//返回</span></span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><h2 id="P93显示科室的前端整合"><a href="#P93显示科室的前端整合" class="headerlink" title="P93显示科室的前端整合"></a>P93显示科室的前端整合</h2><p>一些基础的前端隐藏路由-》界面elemenUI+信息显示</p><p>完成科室信息树形结构显示</p><h2 id="P94"><a href="#P94" class="headerlink" title="P94"></a>P94</h2><p>接下来完成每个科室的树形结构排版信息显示。</p><p>涉及到信息的统计、分析与聚合（分组之后的数据）</p><h2 id="P95科室排班的分页信息显示"><a href="#P95科室排班的分页信息显示" class="headerlink" title="P95科室排班的分页信息显示"></a>P95科室排班的分页信息显示</h2><p>注意此处的代码逻辑书写，自己找时间练习</p><h2 id="P98"><a href="#P98" class="headerlink" title="P98"></a>P98</h2><p>遇到了排班详细信息不显示的问题，暂未解决！</p><h2 id="简历写法"><a href="#简历写法" class="headerlink" title="简历写法"></a>简历写法</h2><p>基于Vue+SpringBoot+SpringCloud+MongoDB+RabbitMQ+Gateway实现的问诊预约系统，用户可以进行微信单点登录、预约挂号、支付订单，管理员可以会员管理、订单管理、统计管理以及对数据字典的导入导出</p><p>一个前后端分离的在线预约挂号系统。用户可以预约挂号支付订单，管理员可以管理订单，医院 可以管理数据。使用Spring Cloud微服务框架，数据存储使用MongoDB和MySQL，中间件使用Redis和 RabbitMQ</p><p>同时还整合了定时任务,实现就医提醒功能,</p><p>综合应用了阿里云OSS,短信服务</p><p>以及微信登录、</p><p>微信支付,</p><p>同时增加了微信退款功能</p></article><div class="mt-12 pt-6 border-t border-gray-200"><span class="bg-gray-100 dark:bg-gray-700 px-2 py-1 m-1 text-sm rounded-md transition-colors hover:bg-gray-200"><a href="/tags/Spring-Boot/">Spring Boot</a> </span><span class="bg-gray-100 dark:bg-gray-700 px-2 py-1 m-1 text-sm rounded-md transition-colors hover:bg-gray-200"><a href="/tags/MySQL/">MySQL</a> </span><span class="bg-gray-100 dark:bg-gray-700 px-2 py-1 m-1 text-sm rounded-md transition-colors hover:bg-gray-200"><a href="/tags/Redis/">Redis</a> </span><span class="bg-gray-100 dark:bg-gray-700 px-2 py-1 m-1 text-sm rounded-md transition-colors hover:bg-gray-200"><a href="/tags/Spring-Cloud-GateWay/">Spring Cloud GateWay</a> </span><span class="bg-gray-100 dark:bg-gray-700 px-2 py-1 m-1 text-sm rounded-md transition-colors hover:bg-gray-200"><a href="/tags/feign/">feign</a> </span><span class="bg-gray-100 dark:bg-gray-700 px-2 py-1 m-1 text-sm rounded-md transition-colors hover:bg-gray-200"><a href="/tags/nacos/">nacos</a> </span><span class="bg-gray-100 dark:bg-gray-700 px-2 py-1 m-1 text-sm rounded-md transition-colors hover:bg-gray-200"><a href="/tags/MongoDB/">MongoDB</a> </span><span class="bg-gray-100 dark:bg-gray-700 px-2 py-1 m-1 text-sm rounded-md transition-colors hover:bg-gray-200"><a href="/tags/JWT/">JWT</a> </span><span class="bg-gray-100 dark:bg-gray-700 px-2 py-1 m-1 text-sm rounded-md transition-colors hover:bg-gray-200"><a href="/tags/EasyExcell/">EasyExcell</a></span></div><div class="flex justify-between mt-12 pt-6 border-t border-gray-200"><div><a href="/posts/75f3839e.html" class="text-sm text-gray-400 hover:text-gray-500 flex justify-center"><iconify-icon width="20" icon="ri:arrow-left-s-line" data-inline="false"></iconify-icon>Tip 常用小技巧</a></div><div><a href="/posts/d96f4a06.html" class="text-sm text-gray-400 hover:text-gray-500 flex justify-center">头歌实践教学平台-Linux网络实战（一）-DNS配置（Ubuntu系统）<iconify-icon width="20" icon="ri:arrow-right-s-line" data-inline="false"></iconify-icon></a></div></div><div class="article-comments mt-12"><div class="giscus-container mt-8 pt-8 border-t border-gray-200 dark:border-gray-700"><script src="https://giscus.app/client.js" data-repo="WL2O2O/CS_GUIDER_Giscus" data-repo-id="R_kgDOJYdTQw" data-category="Announcements" data-category-id="DIC_kwDOJYdTQ84CWKC6" data-mapping="pathname" data-strict="0" data-reactions-enabled="1" data-emit-metadata="0" data-input-position="top" data-theme="preferred_color_scheme" data-lang="en" crossorigin="anonymous" async></script></div><script>function updateGiscusTheme(){const e=document.querySelector("iframe.giscus-frame");if(e){const s=document.documentElement.classList.contains("dark");e.contentWindow.postMessage({giscus:{setConfig:{theme:s?"dark":"light"}}},"https://giscus.app")}}window.addEventListener("message",e=>{"https://giscus.app"===e.origin&&e.data.giscus&&e.data.giscus.resizeHeight&&updateGiscusTheme()});const observer=new MutationObserver(()=>{updateGiscusTheme()});observer.observe(document.documentElement,{attributes:!0,attributeFilter:["class"]})</script></div></section><script src="/lib/clipboard.min.js"></script><script async src="https://cdn.jsdelivr.net/npm/mathjax@2/MathJax.js?config=TeX-MML-AM_CHTML"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({
    "HTML-CSS": {
        preferredFont: "TeX",
        availableFonts: ["STIX","TeX"],
        linebreaks: { automatic:true },
        EqnChunk: (MathJax.Hub.Browser.isMobile ? 10 : 50)
    },
    tex2jax: {
        inlineMath: [ ["$", "$"], ["\\(","\\)"] ],
        processEscapes: true,
        ignoreClass: "tex2jax_ignore|dno",
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
    },
    TeX: {
        equationNumbers: { autoNumber: "AMS" },
        noUndefined: { attributes: { mathcolor: "red", mathbackground: "#FFEEEE", mathsize: "90%" } },
        Macros: { href: "{}" }
    },
    messageStyle: "none"
  });</script><script type="text/x-mathjax-config">MathJax.Hub.Queue(function() {
      var all = MathJax.Hub.getAllJax(), i;
      for (i=0; i < all.length; i += 1) {
          all[i].SourceElement().parentNode.className += ' has-jax';
      }
  });</script><script src="https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js"></script><script>$(document).ready(()=>{mermaid.initialize({theme:"default",logLevel:3,flowchart:{curve:"linear"},gantt:{axisFormat:"%m/%d/%Y"},sequence:{actorMargin:50}})})</script><script src="/lib/fancybox/fancybox.umd.min.js"></script><script>$(document).ready(()=>{$(".post-content").each((function(a){$(this).find("img").each((function(){if(!$(this).parent().hasClass("fancybox")&&!$(this).parent().is("a")){var a=this.alt;a&&$(this).after('<span class="fancybox-alt">'+a+"</span>"),$(this).wrap('<a class="fancybox-img" href="'+this.src+'" data-fancybox="gallery" data-caption="'+a+'"></a>')}})),$(this).find(".fancybox").each((function(){$(this).attr("rel","article"+a)}))})),Fancybox.bind('[data-fancybox="gallery"]',{})})</script><script src="/lib/tocbot/tocbot.min.js"></script><script>$(document).ready(()=>{tocbot.init({tocSelector:".post-toc",contentSelector:".post-content",headingSelector:"h1, h2, h3",hasInnerContainers:!0})})</script></main><footer class="flex flex-col h-40 items-center justify-center text-gray-400 text-sm"><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><div class="flex items-center gap-2"><span>Visitors</span> <span id="busuanzi_value_site_uv"></span> <span>Page Views</span> <span id="busuanzi_value_site_pv"></span></div><div class="flex items-center gap-2"><a target="_blank" href="https://creativecommons.org/licenses/by-nc-sa/4.0/" style="color:inherit">CC BY-NC-SA 4.0</a> <span>© 2025</span><iconify-icon width="18" icon="emojione-monotone:desktop-computer"></iconify-icon><a href="https://github.com/wl2o2o" target="_blank" rel="noopener noreferrer">CS_GUIDER</a></div><div class="flex items-center gap-2"><span>Powered by</span> <a href="https://hexo.io/" target="_blank" rel="noopener noreferrer">Hexo</a> <span>&</span> <a href="https://github.com/wl2o2o" target="_blank" rel="noopener noreferrer">CS_GUIDER</a></div></footer><div class="back-to-top box-border fixed right-6 z-1024 -bottom-20 rounded py-1 px-1 bg-slate-900 opacity-60 text-white cursor-pointer text-center dark:bg-slate-600"><span class="flex justify-center items-center text-sm"><iconify-icon width="18" icon="ion:arrow-up-c" id="go-top"></iconify-icon><span id="scrollpercent"><span>0</span> %</span></span></div><script src="/js/main.js"></script><script src="/js/search.js"></script><script>$(document).ready((function(){const t=document.getElementById("maple");Array.from({length:"10"}).map(()=>{const e=document.createElement("div"),a=.5*Math.random()+.5,l=2*Math.random()-1,n=Math.random()*t.clientWidth,i=-Math.random()*t.clientHeight;return e.className="maple",e.style.width=24*a+"px",e.style.height=24*a+"px",e.style.left=n+"px",e.style.top=i+"px",e.style.setProperty("--maple-fall-offset",l),e.style.setProperty("--maple-fall-height",Math.abs(i)+t.clientHeight+"px"),e.style.animation=`fall ${10/"0.3"}s linear infinite`,e.style.animationDelay=-10/"0.3"+"s",t.appendChild(e),e})}))</script><div class="fixed top-0 bottom-0 left-0 right-0 pointer-events-none print:hidden" id="maple"></div></body></html>
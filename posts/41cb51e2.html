<!DOCTYPE html><html lang="zh"><head><meta charset="UTF-8"><script async src="https://www.googletagmanager.com/gtag/js?id=G-MP1THLPZFC"></script><script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-MP1THLPZFC")</script><script>var _hmt=_hmt||[];!function(){var e=document.createElement("script");e.src="https://hm.baidu.com/hm.js?956b14594152e1b71ce14695a71235d5";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}()</script><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,minimum-scale=1"><meta http-equiv="X-UA-Compatible" content="ie=edge"><meta name="author" content="CS_GUIDER"><meta name="subtitle" content="If not now, when? If not me, who?"><meta name="description" content="欢迎来到我的CS_GUIDER博客！这里提供了全面、实用和最新的Java编程信息。你可以找到Java算法、项目、博客、数据库、Linux系统的教程和笔记。我致力于为您提供Java编程的实用指南和资源，包括Java框架、JVM和Git等。无论您是初学者还是经验丰富的开发人员，都可以从中获益。谢谢您的光临！"><meta name="keywords" content="Java,算法,项目,博客,数据库,Linux,框架,JVM,Git,编程,开发,教程"><title>速解小册 MySQL篇 | CS_GUIDER&#39;S Blog</title><link rel="icon" href="/favicon.ico"><link rel="stylesheet" href="/css/main.css"><link rel="stylesheet" href="/lib/nprogress/nprogress.css"><script src="/lib/jquery.min.js"></script><script src="/lib/iconify-icon.min.js"></script><script src="https://cdn.tailwindcss.com?plugins=typography"></script><script>tailwind.config={darkMode:"class"}</script><script src="/lib/nprogress/nprogress.js"></script><script>$(document).ready(()=>{NProgress.configure({showSpinner:!1}),NProgress.start(),$("#nprogress .bar").css({background:"#de7441"}),$("#nprogress .peg").css({"box-shadow":"0 0 2px #de7441, 0 0 4px #de7441"}),$("#nprogress .spinner-icon").css({"border-top-color":"#de7441","border-left-color":"#de7441"}),setTimeout((function(){NProgress.done(),$(".fade").removeClass("out")}),800)})</script><script>!function(){const e=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches,t=localStorage.getItem("hexo-color-scheme")||"auto";("dark"===t||e&&"light"!==t)&&document.documentElement.classList.toggle("dark",!0);document.documentElement.classList.contains("dark")}(),$(document).ready((function(){const e=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches,t=document.documentElement.classList.contains("dark");function o(){const e=document.documentElement.classList.contains("dark"),t=document.querySelector("iframe.giscus-frame");t&&t.contentWindow.postMessage({giscus:{setConfig:{theme:e?"dark":"light"}}},"https://giscus.app")}function n(){let t=document.documentElement.classList.contains("dark");localStorage.getItem("hexo-color-scheme");t=!t,document.documentElement.classList.toggle("dark",t),$("#theme-icon").attr("icon",t?"ri:moon-line":"ri:sun-line"),e===t?localStorage.setItem("hexo-color-scheme","auto"):localStorage.setItem("hexo-color-scheme",t?"dark":"light"),o()}$("#theme-icon").attr("icon",t?"ri:moon-line":"ri:sun-line"),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",e=>{"auto"===(localStorage.getItem("hexo-color-scheme")||"auto")&&(document.documentElement.classList.toggle("dark",e.matches),$("#theme-icon").attr("icon",e.matches?"ri:moon-line":"ri:sun-line"),o())}),$("#toggle-dark").click(e=>{if(!(document.startViewTransition&&!window.matchMedia("(prefers-reduced-motion: reduce)").matches))return void n();const t=e.clientX,o=e.clientY,c=Math.hypot(Math.max(t,innerWidth-t),Math.max(o,innerHeight-o));document.startViewTransition(async()=>{n()}).ready.then(()=>{const e=document.documentElement.classList.contains("dark"),n=[`circle(0px at ${t}px ${o}px)`,`circle(${c}px at ${t}px ${o}px)`];document.documentElement.animate({clipPath:e?[...n].reverse():n},{duration:400,easing:"ease-out",pseudoElement:e?"::view-transition-old(root)":"::view-transition-new(root)"})})})}))</script><meta name="generator" content="Hexo 5.4.2"></head><body class="font-sans bg-white dark:bg-zinc-900 text-gray-700 dark:text-gray-200 relative"><header class="fixed w-full px-5 py-1 z-10 backdrop-blur-xl backdrop-saturate-150 border-b border-black/5"><div class="max-auto"><nav class="flex items-center text-base"><a href="/" class="group"><h2 class="font-medium tracking-tighterp text-l p-2"><img class="w-5 mr-2 inline-block transition-transform group-hover:rotate-[30deg]" id="logo" src="/img/logo.svg" alt="CS_GUIDER'S Blog"> CS_GUIDER&#39;S Blog</h2></a><div id="header-title" class="opacity-0 md:ml-2 md:mt-[0.1rem] text-xs font-medium whitespace-nowrap overflow-hidden overflow-ellipsis">速解小册 MySQL篇</div><div class="flex-1"></div><div class="flex items-center gap-3"><a class="hidden sm:flex" href="/">Home</a> <a class="hidden sm:flex" href="/archives">Archives</a> <a class="hidden sm:flex" href="/category">Categories</a> <a class="hidden sm:flex" href="/tag">Tags</a> <a class="w-5 h-5 hidden sm:flex" title="Github" target="_blank" rel="noopener" href="https://github.com/wl2o2o"><iconify-icon width="20" icon="ri:github-line"></iconify-icon></a><a class="w-5 h-5 hidden sm:flex" title="Github" href="rss2.xml"><iconify-icon width="20" icon="ri:rss-line"></iconify-icon></a><a class="w-5 h-5" title="toggle theme" id="toggle-dark"><iconify-icon width="20" icon="" id="theme-icon"></iconify-icon></a></div><div class="flex items-center justify-center gap-3 ml-3 sm:hidden"><span class="w-5 h-5" aria-hidden="true" role="img" id="open-menu"><iconify-icon width="20" icon="carbon:menu"></iconify-icon></span><span class="w-5 h-5 hidden" aria-hidden="true" role="img" id="close-menu"><iconify-icon width="20" icon="carbon:close"></iconify-icon></span></div></nav></div></header><div id="menu-panel" class="h-0 overflow-hidden sm:hidden fixed left-0 right-0 top-12 bottom-0 z-10"><div id="menu-content" class="relative z-20 bg-white/80 px-6 sm:px-8 py-2 backdrop-blur-xl -translate-y-full transition-transform duration-300"><ul class="nav flex flex-col sm:flex-row text-sm font-medium"><li class="nav-portfolio sm:mx-2 border-b sm:border-0 border-black/5 last:border-0 hover:text-main"><a href="/" class="flex h-12 sm:h-auto items-center">Home</a></li><li class="nav-portfolio sm:mx-2 border-b sm:border-0 border-black/5 last:border-0 hover:text-main"><a href="/archives" class="flex h-12 sm:h-auto items-center">Archives</a></li><li class="nav-portfolio sm:mx-2 border-b sm:border-0 border-black/5 last:border-0 hover:text-main"><a href="/category" class="flex h-12 sm:h-auto items-center">Categories</a></li><li class="nav-portfolio sm:mx-2 border-b sm:border-0 border-black/5 last:border-0 hover:text-main"><a href="/tag" class="flex h-12 sm:h-auto items-center">Tags</a></li></ul></div><div class="mask bg-black/20 absolute inset-0"></div></div><main class="pt-14"><link rel="stylesheet" href="/lib/fancybox/fancybox.min.css"><link rel="stylesheet" href="/lib/tocbot/tocbot.min.css"><nav class="post-toc toc text-sm w-48 relative top-32 right-0 opacity-70 hidden lg:block" style="position:fixed!important"></nav><section class="px-6 max-w-prose mx-auto md:px-0"><header class="overflow-hidden pt-6 pb-6 md:pt-12"><div class="pt-4 md:pt-6"><h1 id="article-title" class="text-[2rem] font-bold leading-snug mb-4 md:mb-6 md:text-[2.6rem]">速解小册 MySQL篇</h1><div><section class="flex items-center gap-3 text-sm"><span class="flex items-center gap-1"><iconify-icon width="18" icon="carbon-calendar"></iconify-icon><time>2025-09-17</time> </span><span class="text-gray-400">·</span> <span class="flex items-center gap-1"><iconify-icon width="18" icon="ic:round-access-alarm"></iconify-icon><span>35 min</span> </span><span class="text-gray-400">·</span> <span class="flex items-center gap-1"><iconify-icon width="18" icon="icon-park-outline:font-search"></iconify-icon><span>8.2k words</span> </span><span class="text-gray-400">·</span> <span class="flex items-center gap-1"><iconify-icon width="16" icon="icon-park-outline:box" class="mr-2"></iconify-icon><a class="article-category-link" href="/categories/%E9%80%9F%E8%A7%A3%E5%B0%8F%E5%86%8C/">速解小册</a></span></section></div></div></header><article class="post-content prose m-auto slide-enter-content dark:prose-invert"><h1 id="MySQL常遇到的问题"><a href="#MySQL常遇到的问题" class="headerlink" title="MySQL常遇到的问题"></a>MySQL常遇到的问题</h1><h2 id="msi启动报错：error-code-is-2503"><a href="#msi启动报错：error-code-is-2503" class="headerlink" title="msi启动报错：error code is 2503"></a>msi启动报错：error code is 2503</h2><p>![速解小册 MySQL 篇-2025-09-15-21-22-08](<a target="_blank" rel="noopener" href="https://cdn.jsdelivr.net/gh/wl2o2o/blogCdn/img/%E9%80%9F%E8%A7%A3%E5%B0%8F%E5%86%8C">https://cdn.jsdelivr.net/gh/wl2o2o/blogCdn/img/速解小册</a> MySQL 篇-2025-09-15-21-22-08.png)</p><p>解决方法：<br>如果报错安装包受损，官网重新下载安装包后重新使用下图方法启动msi。<br>![速解小册 MySQL 篇-2025-09-15-21-23-18](<a target="_blank" rel="noopener" href="https://cdn.jsdelivr.net/gh/wl2o2o/blogCdn/img/%E9%80%9F%E8%A7%A3%E5%B0%8F%E5%86%8C">https://cdn.jsdelivr.net/gh/wl2o2o/blogCdn/img/速解小册</a> MySQL 篇-2025-09-15-21-23-18.png)</p><h2 id="压缩包安装MySQL-Community-Server，没有MySQL快捷方式"><a href="#压缩包安装MySQL-Community-Server，没有MySQL快捷方式" class="headerlink" title="压缩包安装MySQL Community Server，没有MySQL快捷方式"></a>压缩包安装MySQL Community Server，没有MySQL快捷方式</h2><blockquote><p>使用msi进行安装MySQL的时候会自己创建一个如图的快捷方式<code>MySQL x.x Command Line Client</code>，单击直接输入密码即可进入mysql的命令行，使用压缩包进行安装的话会没有快捷方式，可以通过手动创建来解决</p></blockquote><img src="https://cdn.jsdelivr.net/gh/wl2o2o/blogCdn/img/速解小册 MySQL 篇-2025-03-28-01-39-34.png" alt="速解小册 MySQL 篇-2025-03-28-01-39-34" style="zoom:50%"><p>解决方法如下图所示：</p><img src="https://cdn.jsdelivr.net/gh/wl2o2o/blogCdn/img/速解小册 MySQL 篇-2025-03-28-01-56-40.png" alt="速解小册 MySQL 篇-2025-03-28-01-56-40" style="zoom:33%"><h2 id="net-start-mysql-报错：net-不是内部或外部命令"><a href="#net-start-mysql-报错：net-不是内部或外部命令" class="headerlink" title="net start mysql 报错：net 不是内部或外部命令"></a>net start mysql 报错：net 不是内部或外部命令</h2><p>原因：<br>环境变量问题<br>解决方法：<br>打开环境变量，在path路径下添加C:\Windows\System32即可</p><h2 id="MySQL5-6-版本，net-start-mysql-启动服务报错"><a href="#MySQL5-6-版本，net-start-mysql-启动服务报错" class="headerlink" title="MySQL5.6 版本，net start mysql 启动服务报错"></a>MySQL5.6 版本，net start mysql 启动服务报错</h2><figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">MySQL 服务正在启动 ...</span><br><span class="line">MySQL 服务无法启动。</span><br><span class="line">  </span><br><span class="line">系统出错。</span><br><span class="line">  </span><br><span class="line">发生系统错误 1067。</span><br><span class="line">  </span><br><span class="line">进程意外终止。</span><br></pre></td></tr></table></figure><p>解决方法：<br>1. 不要创建my.ini文件，直接在my-default.ini文件中新增以下配置：<br>basedir = D:\mysql-5.6.10-winx64 （改为你自己的安装路径）<br>datadir = D:\mysql-5.6.10-winx64\data（改为你自己的安装路径）<br>port = 3306<br>2. 移除mysql服务<br>mysqld -remove<br>3. 安装mysql服务<br>mysqld.exe -install<br>4. 启动mysql服务<br>net start mysql</p><h2 id="项目和idea连接MySQL报密码错误，可是命令行登录MySQL显示密码正确"><a href="#项目和idea连接MySQL报密码错误，可是命令行登录MySQL显示密码正确" class="headerlink" title="项目和idea连接MySQL报密码错误，可是命令行登录MySQL显示密码正确"></a>项目和idea连接MySQL报密码错误，可是命令行登录MySQL显示密码正确</h2><p>如图所示：<br>![速解小册 MySQL 篇-2025-03-25-12-02-34](<a target="_blank" rel="noopener" href="https://cdn.jsdelivr.net/gh/wl2o2o/blogCdn/img/%E9%80%9F%E8%A7%A3%E5%B0%8F%E5%86%8C">https://cdn.jsdelivr.net/gh/wl2o2o/blogCdn/img/速解小册</a> MySQL 篇-2025-03-25-12-02-34.png)<br>![速解小册 MySQL 篇-2025-03-25-12-03-19](<a target="_blank" rel="noopener" href="https://cdn.jsdelivr.net/gh/wl2o2o/blogCdn/img/%E9%80%9F%E8%A7%A3%E5%B0%8F%E5%86%8C">https://cdn.jsdelivr.net/gh/wl2o2o/blogCdn/img/速解小册</a> MySQL 篇-2025-03-25-12-03-19.png)</p><p>原因之一：禅道MySQL服务和MySQL服务冲突<br>解决办法：<br>方案一：服务列表中停止禅道服务<br>方案二：在禅道的服务窗口中配置 3306 以外的端口号<br>![速解小册 MySQL 篇-2025-03-25-12-10-08](<a target="_blank" rel="noopener" href="https://cdn.jsdelivr.net/gh/wl2o2o/blogCdn/img/%E9%80%9F%E8%A7%A3%E5%B0%8F%E5%86%8C">https://cdn.jsdelivr.net/gh/wl2o2o/blogCdn/img/速解小册</a> MySQL 篇-2025-03-25-12-10-08.png)</p><h2 id="项目和idea连接MySQL报文件名、目录名或卷标语法不正确"><a href="#项目和idea连接MySQL报文件名、目录名或卷标语法不正确" class="headerlink" title="项目和idea连接MySQL报文件名、目录名或卷标语法不正确"></a>项目和idea连接MySQL报文件名、目录名或卷标语法不正确</h2><p>如图所示：<br>![速解小册 MySQL 篇-2025-03-25-12-12-45](<a target="_blank" rel="noopener" href="https://cdn.jsdelivr.net/gh/wl2o2o/blogCdn/img/%E9%80%9F%E8%A7%A3%E5%B0%8F%E5%86%8C">https://cdn.jsdelivr.net/gh/wl2o2o/blogCdn/img/速解小册</a> MySQL 篇-2025-03-25-12-12-45.png)<br>解决办法：<br>如上图中用户名后面出现了两个问号，足以说明是用户名乱码导致，所以需要更改用户文件夹下面的用户名文件夹名字，修改步骤如下：</p><ol><li>打开系统设置面板，以Windows11为例，在账户中的其他用户中添加一个管理员账户，例如Administrator（新增一个管理员账户是为了通过这个有管理权限的账户去更改原来的用户名，更改成功之后即可删掉Administrator用户）；</li><li>打开控制面板，找到“控制面板\用户帐户\用户帐户”，然后将刚才新增的账户Administrator的账户类型改为管理员用户；</li><li>重启电脑，以新用户Administrator进行登录；</li><li>打开文件资源管理器，直接修改“C:\Users\”路径下的用户名称，例如”大帅哥” -&gt; “handsome”，如果显示有文件正在使用中，那么自行百度解决后再进行下一步。切记切记切记！</li><li>打开注册表，在如下路径中找到需要修改的用户名：<br>HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\Windows NT\CurrentVersion\ProfileList&lt;要修改的用户对应的sid&gt;<br>![速解小册 MySQL 篇-2025-03-25-12-24-38](<a target="_blank" rel="noopener" href="https://cdn.jsdelivr.net/gh/wl2o2o/blogCdn/img/%E9%80%9F%E8%A7%A3%E5%B0%8F%E5%86%8C">https://cdn.jsdelivr.net/gh/wl2o2o/blogCdn/img/速解小册</a> MySQL 篇-2025-03-25-12-24-38.png)<br>找到如图中自己的用户名所在的ProfileImagePath，右键进行更改为想要修改的英文用户名（不含表情等特殊符号）</li><li>更改成功之后注销Administrator用户的登录，然后以新改的英文用户名登录</li><li>修改环境变量，因为环境变量中可能包含之前用户名的环境变量，所以需要将旧用户名与新用户名进行替换</li><li>[可选]为了防止快捷方式打不开，创建一个软连接，可以防止一切路径问题。<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mklink /d <span class="string">&quot;C:\Users\大帅哥&quot;</span> <span class="string">&quot;C:\Users\handsome&quot;</span></span><br></pre></td></tr></table></figure></li><li>[强迫症可选]下载Registry Workshop注册表管理程序，使用它来批量替换包含旧用户名的注册表</li></ol><h2 id="mysqld-ERROR-Found-option-without-preceding-group-in-config-file-D-MySQL-MySQL-Server-8-0-my-ini-at-line-1"><a href="#mysqld-ERROR-Found-option-without-preceding-group-in-config-file-D-MySQL-MySQL-Server-8-0-my-ini-at-line-1" class="headerlink" title="mysqld: [ERROR] Found option without preceding group in config file D:\MySQL\MySQL Server 8.0\my.ini at line 1."></a>mysqld: [ERROR] Found option without preceding group in config file D:\MySQL\MySQL Server 8.0\my.ini at line 1.</h2><p>原因：my.ini 文件的编码问题<br>解决办法：<br>方案一：文件另存为，更改文件编码为ANSI<br>方案二：更改文件扩展名为.nasi</p><h2 id="mysql-服务启动后停止，某些服务在未由其他服务或程序使用时将自己停止-服务无法启动，没有报告任何问题"><a href="#mysql-服务启动后停止，某些服务在未由其他服务或程序使用时将自己停止-服务无法启动，没有报告任何问题" class="headerlink" title="mysql 服务启动后停止，某些服务在未由其他服务或程序使用时将自己停止 || 服务无法启动，没有报告任何问题"></a>mysql 服务启动后停止，某些服务在未由其他服务或程序使用时将自己停止 || 服务无法启动，没有报告任何问题</h2><img src="https://cdn.jsdelivr.net/gh/wl2o2o/blogCdn/img/速解小册 MySQL 篇-2025-03-11-01-11-05.png" alt="速解小册 MySQL 篇-2025-03-11-01-11-05" style="zoom:50%"><p>解决方法：首先data文件夹下的xxx.err文件，看文件末尾的最新日志</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 例如</span></span><br><span class="line">2025-03-10T12:28:44.735297Z 0 [Warning] [MY-010918] [Server] <span class="string">&#x27;default_authentication_plugin&#x27;</span> is deprecated and will be removed <span class="keyword">in</span> a future release. Please use authentication_policy instead.</span><br><span class="line">2025-03-10T12:28:44.735332Z 0 [System] [MY-010116] [Server] D:\mysql\mysql-8.0.31-winx64\bin\mysqld.exe (mysqld 8.0.31) starting as process 2844</span><br><span class="line">2025-03-10T12:28:44.754456Z 1 [System] [MY-013576] [InnoDB] InnoDB initialization has started.</span><br><span class="line">2025-03-10T12:28:44.938273Z 1 [ERROR] [MY-012526] [InnoDB] Upgrade is not supported after a crash or shutdown with innodb_fast_shutdown = 2. This redo <span class="built_in">log</span> was created with MySQL 5.7.26, and it appears logically non empty. Please follow the instructions at http://dev.mysql.com/doc/refman/8.0/en/upgrading.html</span><br><span class="line">2025-03-10T12:28:44.939635Z 1 [ERROR] [MY-012930] [InnoDB] Plugin initialization aborted with error Generic error.</span><br><span class="line">2025-03-10T12:28:44.976461Z 1 [ERROR] [MY-010334] [Server] Failed to initialize DD Storage Engine</span><br><span class="line">2025-03-10T12:28:44.977669Z 0 [ERROR] [MY-010020] [Server] Data Dictionary initialization failed.</span><br><span class="line">2025-03-10T12:28:44.978318Z 0 [ERROR] [MY-010119] [Server] Aborting</span><br><span class="line">2025-03-10T12:28:44.979103Z 0 [System] [MY-010910] [Server] D:\mysql\mysql-8.0.31-winx64\bin\mysqld.exe: Shutdown complete (mysqld 8.0.31)  MySQL Community Server - GPL.</span><br><span class="line"></span><br><span class="line"><span class="comment"># 上述报错需要删除 data 文件夹下的`ib_logfile0`和`ib_logfile1`即可</span></span><br></pre></td></tr></table></figure><h2 id="找不到VCRUNTIME140-1-dll"><a href="#找不到VCRUNTIME140-1-dll" class="headerlink" title="找不到VCRUNTIME140_1.dll"></a>找不到VCRUNTIME140_1.dll</h2><p>![速解小册 MySQL 篇-2025-03-10-21-54-42](<a target="_blank" rel="noopener" href="https://cdn.jsdelivr.net/gh/wl2o2o/blogCdn/img/%E9%80%9F%E8%A7%A3%E5%B0%8F%E5%86%8C">https://cdn.jsdelivr.net/gh/wl2o2o/blogCdn/img/速解小册</a> MySQL 篇-2025-03-10-21-54-42.png)</p><p>解决方法：下载官方驱动</p><p><a target="_blank" rel="noopener" href="https://learn.microsoft.com/en-us/cpp/windows/latest-supported-vc-redist?view=msvc-170#visual-studio-2015-2017-2019-and-2022">https://learn.microsoft.com/en-us/cpp/windows/latest-supported-vc-redist?view=msvc-170#visual-studio-2015-2017-2019-and-2022</a></p><h3 id="SQLYog-连接本地-mysql-实例报插件错误（错误号码：2058-Plugin-caching-sha2-password-authentication-could-net-be-loaded）"><a href="#SQLYog-连接本地-mysql-实例报插件错误（错误号码：2058-Plugin-caching-sha2-password-authentication-could-net-be-loaded）" class="headerlink" title="SQLYog 连接本地 mysql 实例报插件错误（错误号码：2058 Plugin caching_sha2_password_authentication could net be loaded）"></a>SQLYog 连接本地 mysql 实例报插件错误（错误号码：2058 Plugin caching_sha2_password_authentication could net be loaded）</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash"><span class="comment">## 解决方案</span></span></span><br><span class="line">方案1. mysql容器启动时 添加配置 --mysql-native-password=ON</span><br><span class="line">方案2. my.cnf中 mysqld下添加一行 mysql-native-password=ON</span><br></pre></td></tr></table></figure><h2 id="msi程序一直卡在start-server的步骤-压缩包安装启动不了服务"><a href="#msi程序一直卡在start-server的步骤-压缩包安装启动不了服务" class="headerlink" title="msi程序一直卡在start server的步骤 |　压缩包安装启动不了服务"></a>msi程序一直卡在start server的步骤 |　压缩包安装启动不了服务</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash"><span class="comment">## 报错信息：</span></span></span><br><span class="line">本地计算机上的MySQL80服务启动后停止。某些服务在未由其他服务或程序使用时将自动停止。</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"><span class="comment">## 解决方案：</span></span></span><br><span class="line">设置 &gt; 主页 &gt; 重命名电脑名字为英文</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"><span class="comment">## 重启电脑后</span></span></span><br><span class="line">会发现 MySQL 相关的服务已经自动启动了，此时MySQL的密码为空，环境变量也需要手动去添加一下就OK了。</span><br></pre></td></tr></table></figure><h2 id="ERROR-1449-HY000-The-user-specified-as-a-definer-‘mysql-infoschema’-‘localhost’-does-not-exist"><a href="#ERROR-1449-HY000-The-user-specified-as-a-definer-‘mysql-infoschema’-‘localhost’-does-not-exist" class="headerlink" title="ERROR 1449 (HY000): The user specified as a definer (‘mysql.infoschema’@‘localhost’) does not exist"></a>ERROR 1449 (HY000): The user specified as a definer (‘mysql.infoschema’@‘localhost’) does not exist</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment"># 删除该用户</span></span><br><span class="line">DROP USER <span class="string">&#x27;mysql.infoschema&#x27;</span>@<span class="string">&#x27;localhost&#x27;</span>;</span><br><span class="line"><span class="comment"># 再次创建这个用户</span></span><br><span class="line">CREATE USER <span class="string">&#x27;mysql.infoschema&#x27;</span>@<span class="string">&#x27;localhost&#x27;</span> IDENTIFIED BY <span class="string">&#x27;yourpassword&#x27;</span>;</span><br><span class="line"><span class="comment"># 授予权限</span></span><br><span class="line">GRANT SELECT ON *.* TO `mysql.infoschema`@`localhost`;</span><br><span class="line"><span class="comment"># 刷新权限</span></span><br><span class="line">FLUSH PRIVILEGES;</span><br></pre></td></tr></table></figure><h2 id="Linux-中-MySQL-忘记密码"><a href="#Linux-中-MySQL-忘记密码" class="headerlink" title="Linux 中 MySQL 忘记密码"></a>Linux 中 MySQL 忘记密码</h2><ol><li><p>修改配置文件</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># vim /etc/my.cnf</span></span><br><span class="line"></span><br><span class="line">[mysql]</span><br><span class="line"><span class="comment"># 设置mysql客户端默认字符集</span></span><br><span class="line">default-character-set=utf8mb4 </span><br><span class="line"></span><br><span class="line">[mysqld]</span><br><span class="line"><span class="comment"># 设置3306端口</span></span><br><span class="line">port = 3306 </span><br><span class="line"><span class="comment"># 设置mysql的安装目录</span></span><br><span class="line">basedir=/usr/local/mysql</span><br><span class="line"><span class="comment"># 设置mysql数据库的数据的存放目录</span></span><br><span class="line">datadir=/usr/local/mysql/data</span><br><span class="line"><span class="comment"># 允许最大连接数</span></span><br><span class="line">max_connections=200</span><br><span class="line"><span class="comment"># 服务端默认编码（数据库级别）</span></span><br><span class="line">character-set-server=utf8mb4</span><br><span class="line"><span class="comment"># 创建新表时将使用的默认存储引擎</span></span><br><span class="line">default-storage-engine=INNODB </span><br><span class="line">lower_case_table_names=1</span><br><span class="line">max_allowed_packet=16M</span><br><span class="line"></span><br><span class="line"><span class="comment"># --- 添加此行到此处 ---</span></span><br><span class="line">skip-grant-tables</span><br></pre></td></tr></table></figure></li><li><p>重启MySQL服务</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl restart mysql</span><br></pre></td></tr></table></figure></li><li><p>免密码登录 root 用户（输入密码时直接回车即可）</p></li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysql -u root -p</span><br></pre></td></tr></table></figure><ol start="4"><li>重置密码<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; use mysql</span><br><span class="line">mysql&gt; <span class="keyword">select</span> host, user, authentication_string, plugin from user;</span><br><span class="line"><span class="comment"># 注意：先执行flush privileges;然后会alter成功，要不然会alter失败</span></span><br><span class="line"></span><br><span class="line">mysql&gt; alter user <span class="string">&#x27;root&#x27;</span>@<span class="string">&#x27;localhost&#x27;</span>IDENTIFIED BY <span class="string">&#x27;newpassword&#x27;</span>;</span><br></pre></td></tr></table></figure></li><li>修改密码安全级别<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">set</span> global validate_password.policy=0;</span><br><span class="line"><span class="built_in">set</span> global validate_password.length=1;</span><br></pre></td></tr></table></figure></li><li>把/etc/my.cnf 文件末尾的 skip-grant-tables 去掉，重启MySQL服务，修改完成。</li></ol><h2 id="sqlyog-链接-MySQL-数据库出现-2058-错误代码"><a href="#sqlyog-链接-MySQL-数据库出现-2058-错误代码" class="headerlink" title="sqlyog 链接 MySQL 数据库出现 2058 错误代码"></a>sqlyog 链接 MySQL 数据库出现 2058 错误代码</h2><h2 id="多版本安装之后怎么访问不同版本-MySQL"><a href="#多版本安装之后怎么访问不同版本-MySQL" class="headerlink" title="多版本安装之后怎么访问不同版本 MySQL"></a>多版本安装之后怎么访问不同版本 MySQL</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># -h： 指定主机 -P：指定端口 -u：指定用户名 -p：指定密码</span></span><br><span class="line">mysql -h 127.0.0.1 -P 3307 -u root -p</span><br></pre></td></tr></table></figure><h2 id="MySQL8-x-强密码怎么取消"><a href="#MySQL8-x-强密码怎么取消" class="headerlink" title="MySQL8.x 强密码怎么取消"></a>MySQL8.x 强密码怎么取消</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">SHOW VARIABLES LIKE <span class="string">&#x27;validate_password%&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="built_in">set</span> global validate_password.policy=LOW; </span><br><span class="line"></span><br><span class="line"><span class="built_in">set</span> global validate_password.length=4;</span><br><span class="line"></span><br><span class="line"><span class="built_in">set</span> global validate_password.mixed_case_count=0;</span><br><span class="line"></span><br><span class="line"><span class="built_in">set</span> global validate_password.special_char_count=0;</span><br></pre></td></tr></table></figure><h2 id="MySQL5-x-系列msi安装出现无响应问题"><a href="#MySQL5-x-系列msi安装出现无响应问题" class="headerlink" title="MySQL5.x 系列msi安装出现无响应问题"></a>MySQL5.x 系列<code>msi</code>安装出现无响应问题</h2><p><strong>问题剖析</strong>：通常是由于3306端口号被占用导致的<br><strong>解决办法</strong>：<br>1、可以通过<code>netstat -ano</code>查看端口号是否被占用<br>2、杀掉进程：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 按进程 ID (PID) 杀死进程</span></span><br><span class="line">taskkill /PID pid_number /F</span><br><span class="line"><span class="comment"># pid_number 是进程的 PID /F 参数表示强制终止进程。</span></span><br></pre></td></tr></table></figure><h2 id="MySQL-Connector-Net-卸载不了"><a href="#MySQL-Connector-Net-卸载不了" class="headerlink" title="MySQL Connector Net 卸载不了"></a>MySQL Connector Net 卸载不了</h2><p><a target="_blank" rel="noopener" href="https://support.microsoft.com/en-us/topic/fix-problems-that-block-programs-from-being-installed-or-removed-cca7d1b6-65a9-3d98-426b-e9f927e1eb4d">点击下载微软官方的疑难解答：修复阻止安装或删除程序的问题</a></p><h2 id="MySQL管理用户权限"><a href="#MySQL管理用户权限" class="headerlink" title="MySQL管理用户权限"></a>MySQL管理用户权限</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 创建用户</span></span><br><span class="line">mysql&gt; create user <span class="string">&#x27;root&#x27;</span>@<span class="string">&#x27;%&#x27;</span> identified by <span class="string">&#x27;123456&#x27;</span>;</span><br><span class="line"><span class="comment"># 授予权限</span></span><br><span class="line">mysql&gt; grant all privileges on *.* to <span class="string">&#x27;root&#x27;</span>@<span class="string">&#x27;%&#x27;</span> with grant option;</span><br><span class="line"><span class="comment"># 刷新权限</span></span><br><span class="line">mysql&gt; flush privileges;</span><br></pre></td></tr></table></figure><h2 id="多平台重装MySQL，数据备份的需求"><a href="#多平台重装MySQL，数据备份的需求" class="headerlink" title="多平台重装MySQL，数据备份的需求"></a>多平台重装MySQL，数据备份的需求</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 备份数据库</span></span><br><span class="line">mysqldump -uroot -p --all-databases ~/db_backup/alldb_backup.sql</span><br><span class="line"><span class="comment"># 还原数据库</span></span><br><span class="line">mysql -uroot -p &lt; ~/db_backup/alldb_backup.sql</span><br></pre></td></tr></table></figure><h2 id="MySQL远程访问问题"><a href="#MySQL远程访问问题" class="headerlink" title="MySQL远程访问问题"></a>MySQL远程访问问题</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">1.进入mysql:</span><br><span class="line">use mysql;</span><br><span class="line">2.查看权限表：</span><br><span class="line">select host,user from user;</span><br><span class="line">3.修改root权限：</span><br><span class="line">update user set host=&#x27;%&#x27;where user=&#x27;root&#x27;;</span><br><span class="line">4.设置密码永不过期</span><br><span class="line">ALTER USER &#x27;root&#x27;@&#x27;%&#x27; IDENTIFIED BY &#x27;新密码&#x27; PASSWORD EXPIRE NEVER;  //设置密码永不过期</span><br><span class="line">4.再次查看表结果：</span><br><span class="line">select host,user from user;</span><br><span class="line">5.刷新</span><br><span class="line">flush privileges;</span><br></pre></td></tr></table></figure><h2 id="MySQL取消大小写敏感问题"><a href="#MySQL取消大小写敏感问题" class="headerlink" title="MySQL取消大小写敏感问题"></a>MySQL取消大小写敏感问题</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">1.备份数据：在进行任何操作之前，请务必备份/var/ib/mysql目录中的数据，以防止数据丢失。</span><br><span class="line"></span><br><span class="line">2.修改配置文件：打开/etc/mysql/my.conf文件，并在[mysqld]节下添加 lower_case_table_names=1 配置。</span><br><span class="line"></span><br><span class="line">3.重新初始化数据库：运行以下命令进行数据库的重新初始化：</span><br><span class="line"> sudo /usr/sbin/mysqld --initialize --user=root --lower-case-table-names=1</span><br><span class="line">这个命令将重新初始化数据库并配置大小写不敏感设置。请注意，这将同时修改之前对密码的修改。</span><br><span class="line"></span><br><span class="line">4.查询新的root密码：运行以下命令查找最新的root密码并记下：</span><br><span class="line"> grep &quot;A temporary password&quot;/var/log/mysql/error.log</span><br><span class="line"> </span><br><span class="line">5.登录数据库：使用新的root密码登录MySQL:</span><br><span class="line"> mysql -u root -p</span><br><span class="line"> </span><br><span class="line">6.修改密码：执行以下命令来修改新的密码为你所需的密码：</span><br><span class="line"> ALTER USER &#x27;root&#x27;@&#x27;localhost&#x27;IDENTIFIED WITH mysql_native_password BY &#x27;root&#x27;;</span><br></pre></td></tr></table></figure><h2 id="MySQL启动服务提示权限不够问题"><a href="#MySQL启动服务提示权限不够问题" class="headerlink" title="MySQL启动服务提示权限不够问题"></a>MySQL启动服务提示权限不够问题</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">chown</span> -R mysql:mysql /var/lib/mysql/</span><br><span class="line"><span class="comment"># MySQL 服务通常需要以 mysql 用户的身份运行，并且需要对数据目录拥有适当的读写权限。如果数据目录的所有者不是 mysql 用户，或者权限设置不当，MySQL 服务就无法正常启动。</span></span><br></pre></td></tr></table></figure><h2 id="MySQL使用mysqld-initialize忘记加-console解决方法"><a href="#MySQL使用mysqld-initialize忘记加-console解决方法" class="headerlink" title="MySQL使用mysqld --initialize忘记加--console解决方法"></a>MySQL使用<code>mysqld --initialize</code>忘记加<code>--console</code>解决方法</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 查看安装MySQL的初始化密码</span></span><br><span class="line">grep <span class="string">&#x27;A temporary password&#x27;</span> /var/log/mysqld.log</span><br></pre></td></tr></table></figure><h2 id="MySQL5-6-版本"><a href="#MySQL5-6-版本" class="headerlink" title="MySQL5.6.+版本"></a>MySQL5.6.+版本</h2><h3 id="ERROR-1819-HY000"><a href="#ERROR-1819-HY000" class="headerlink" title="ERROR 1819 (HY000):"></a>ERROR 1819 (HY000):</h3><p>Your password does not satisfy the current policy requirements.</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># 数据库中设置不了弱类型密码，会报以上错误</span><br><span class="line"><span class="keyword">set</span> <span class="keyword">global</span> validate_password_policy<span class="operator">=</span>LOW;</span><br></pre></td></tr></table></figure><h3 id="ERROR-1820-HY000"><a href="#ERROR-1820-HY000" class="headerlink" title="ERROR 1820 (HY000):"></a>ERROR 1820 (HY000):</h3><p>You must reset your password using ALTER USER statement before executing this statement.</p><p>原因：MySQL版本5.6.6版本起，添加了password_expired(密码失效)功能，但是它的默认值是”N”，可以使用ALTER USER语句来修改这个值。</p><p>输入如下三个命令。</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">修改密码：</span><br><span class="line"><span class="keyword">set</span> password <span class="operator">=</span> password(<span class="string">&#x27;admin&#x27;</span>);</span><br><span class="line"></span><br><span class="line">禁用密码过期：</span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">user</span> root<span class="variable">@localhost</span> password expire never;</span><br><span class="line"></span><br><span class="line"><span class="operator">*</span><span class="operator">*</span><span class="operator">*</span>组合命令：</span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">user</span> root<span class="variable">@localhost</span> identified <span class="keyword">by</span> <span class="string">&#x27;新密码&#x27;</span> password expire never;  （设置密码永不过期）</span><br><span class="line"></span><br><span class="line">刷新权限：</span><br><span class="line">flush privileges;</span><br></pre></td></tr></table></figure><h2 id="MySQL-开启慢日志"><a href="#MySQL-开启慢日志" class="headerlink" title="MySQL 开启慢日志"></a>MySQL 开启慢日志</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">[mysqld]</span><br><span class="line"><span class="comment"># 开启慢查询日志</span></span><br><span class="line">slow_query_log = 1</span><br><span class="line"><span class="comment"># 慢查询日志文件路径（可自定义）</span></span><br><span class="line"><span class="comment"># slow_query_log_file = C:/ProgramData/MySQL/MySQL Server 8.0/Data/mysql-slow.log</span></span><br><span class="line">slow_query_log_file = /usr/local/mysql/data/mysql-slow.log</span><br><span class="line"></span><br><span class="line"><span class="comment"># 定义慢查询的阈值（单位：秒，默认为10秒）</span></span><br><span class="line">long_query_time = 2</span><br><span class="line"><span class="comment"># 是否记录不使用索引的查询</span></span><br><span class="line">log_queries_not_using_indexes = 1</span><br><span class="line"><span class="comment"># 忽略的管理员命令（例如，不要记录 OPTIMIZE TABLE 等命令）</span></span><br><span class="line">log_slow_admin_statements = 0</span><br></pre></td></tr></table></figure><h1 id="win重装MySQL"><a href="#win重装MySQL" class="headerlink" title="win重装MySQL"></a>win重装MySQL</h1><h2 id="残留清理"><a href="#残留清理" class="headerlink" title="残留清理"></a>残留清理</h2><h3 id="卸载MySQL"><a href="#卸载MySQL" class="headerlink" title="卸载MySQL"></a>卸载MySQL</h3><p>设置面板 &gt; 应用 &gt;　卸载MySQL</p><h3 id="删除注册表"><a href="#删除注册表" class="headerlink" title="删除注册表"></a>删除注册表</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">win + R 打开注册表</span><br><span class="line"><span class="comment"># 复制下面三条路径找到对应的注册表进行删除，没有就过，一般会存在第一个，第二三个不一定</span></span><br><span class="line">计算机\HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Services\EventLog\Application\MySQL</span><br><span class="line"></span><br><span class="line">计算机\HKEY_LOCAL_MACHINE\SYSTEM\ControlSet002\Services\Eventlog\Application\MySQL</span><br><span class="line"></span><br><span class="line">计算机\HKEY_LOCAL_MACHINE\SYSTEM\ControlSet001\Services\Eventlog\Application\MySQL</span><br></pre></td></tr></table></figure><h3 id="停止并删除本地服务"><a href="#停止并删除本地服务" class="headerlink" title="停止并删除本地服务"></a>停止并删除本地服务</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 查询本地安装的MySQL服务的名字</span></span><br><span class="line">sc query | findstr <span class="string">&quot;SERVICE_NAME&quot;</span> | findstr /I <span class="string">&quot;MySQL&quot;</span></span><br><span class="line"><span class="comment"># 停止并删除本地服务</span></span><br><span class="line">sc stop &lt;服务名称&gt; &amp;&amp; sc delete &lt;服务名称&gt;</span><br><span class="line"><span class="comment"># 再次验证默认端口号是否被占用，没有输出即可</span></span><br><span class="line">netstat -ano | findstr <span class="string">&quot;3306&quot;</span></span><br></pre></td></tr></table></figure><h3 id="删除残留文件夹"><a href="#删除残留文件夹" class="headerlink" title="删除残留文件夹"></a>删除残留文件夹</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 默认安装位置</span></span><br><span class="line">C:\Program Files\MySQL\</span><br><span class="line"><span class="comment"># 默认Data位置</span></span><br><span class="line">C:\ProgramData\MySQL\</span><br><span class="line"><span class="comment"># 如果当时自定义安装的位置找不到或者记不清也没关系，只要服务删除了，就不起作用了</span></span><br></pre></td></tr></table></figure><h2 id="MSI安装"><a href="#MSI安装" class="headerlink" title="MSI安装"></a>MSI安装</h2><h3 id="安装地址"><a href="#安装地址" class="headerlink" title="安装地址"></a>安装地址</h3><p><a target="_blank" rel="noopener" href="https://dev.mysql.com/downloads/installer/">https://dev.mysql.com/downloads/installer/</a></p><h3 id="双击msi文件进行安装"><a href="#双击msi文件进行安装" class="headerlink" title="双击msi文件进行安装"></a>双击msi文件进行安装</h3><p>如果遇到最后一步<strong>一直卡在start server那一步骤</strong>，前往常见问题查看解决方法。</p><h2 id="zip安装"><a href="#zip安装" class="headerlink" title=".zip安装"></a>.zip安装</h2><h3 id="安装地址-1"><a href="#安装地址-1" class="headerlink" title="安装地址"></a>安装地址</h3><p><a target="_blank" rel="noopener" href="https://downloads.mysql.com/archives/community/">MySQL Community Server –Archived Versions</a>: <a target="_blank" rel="noopener" href="https://downloads.mysql.com/archives/community/">https://downloads.mysql.com/archives/community/</a></p><h3 id="5-6-及以下"><a href="#5-6-及以下" class="headerlink" title="5.6 及以下"></a>5.6 及以下</h3><blockquote><p>MySQL5.6 及以下版本的压缩包中是有 data 文件夹的，所以无需进行初始化，甚至不需要写配置文件，直接用默认配置文件：my-default.ini即可</p></blockquote><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 打开cmd</span></span><br><span class="line"><span class="built_in">cd</span> “MySQL安装目录下的bin文件夹”</span><br><span class="line"><span class="comment"># 安装服务</span></span><br><span class="line">mysqld.exe -install</span><br><span class="line"><span class="comment"># 启动服务</span></span><br><span class="line">net start mysql</span><br><span class="line"><span class="comment"># 登录mysql，无密码直接回车</span></span><br><span class="line">mysql -u root -p</span><br><span class="line"><span class="comment"># 设置密码</span></span><br><span class="line">update mysql.user <span class="built_in">set</span> password=password(<span class="string">&#x27;123456&#x27;</span>) <span class="built_in">where</span> User=<span class="string">&#x27;root&#x27;</span>;</span><br><span class="line"><span class="comment"># 刷新权限</span></span><br><span class="line">flush privileges;</span><br><span class="line"><span class="comment"># 设置环境变量</span></span><br></pre></td></tr></table></figure><h3 id="添加配置文件"><a href="#添加配置文件" class="headerlink" title="添加配置文件"></a>添加配置文件</h3><blockquote><p>在解压后的文件中添加<code>my.ini</code>配置文件，并将其中的<code>basedir</code>和<code>datadir</code>分别修改为自己的相应文件夹目录</p></blockquote><h4 id="v5-7"><a href="#v5-7" class="headerlink" title="v5.7"></a>v5.7</h4><figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">[mysqld]</span></span><br><span class="line"><span class="comment">#端口号</span></span><br><span class="line"><span class="attr">port</span> = <span class="number">3306</span></span><br><span class="line"><span class="comment">#mysql 根 路径</span></span><br><span class="line"><span class="attr">basedir</span>=D:\MySQL57</span><br><span class="line"><span class="comment">#mysql data 路径</span></span><br><span class="line"><span class="attr">datadir</span>=D:\MySQL57\data</span><br><span class="line"> </span><br><span class="line"><span class="comment">#最大连接数</span></span><br><span class="line"><span class="attr">max_connections</span>=<span class="number">200</span></span><br><span class="line"><span class="comment">#编码</span></span><br><span class="line"><span class="attr">character-set-server</span>=utf8</span><br><span class="line"><span class="attr">default-storage-engine</span>=INNODB</span><br><span class="line"><span class="attr">sql_mode</span>=NO_ENGINE_SUBSTITUTION,STRICT_TRANS_TABLES</span><br><span class="line"> </span><br><span class="line"><span class="section">[mysql]</span></span><br><span class="line"><span class="comment">#编码</span></span><br><span class="line"><span class="attr">default-character-set</span>=utf8</span><br></pre></td></tr></table></figure><h4 id="v8-x详细"><a href="#v8-x详细" class="headerlink" title="v8.x详细"></a>v8.x详细</h4><figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">[mysql]</span></span><br><span class="line"><span class="comment">#设置mysql客户端默认字符集</span></span><br><span class="line"><span class="attr">default-character-set</span>=utf8mb4</span><br><span class="line"><span class="section">[mysqld]</span></span><br><span class="line"><span class="comment"># 避免MySQL的外部锁定，减少出错几率增强稳定性。</span></span><br><span class="line">skip-external-locking</span><br><span class="line"><span class="comment"># 禁用dns解析，避免网络DNS解析服务引发访问MYSQL的错误，一般应当启用。</span></span><br><span class="line">skip-name-resolve</span><br><span class="line"><span class="comment">#设置3306端口</span></span><br><span class="line"><span class="attr">port</span>=<span class="number">3306</span></span><br><span class="line"><span class="comment"># 服务端使用的字符集默认为8比特编码的latin1字符集  </span></span><br><span class="line"><span class="attr">character-set-server</span>=utf8mb4</span><br><span class="line"><span class="comment"># 设置mysql的安装目录  </span></span><br><span class="line"><span class="attr">basedir</span>=D:/Soft/Work/mysql-<span class="number">8.0</span>.<span class="number">28</span></span><br><span class="line"><span class="comment"># 设置mysql数据库的数据的存放目录  </span></span><br><span class="line"><span class="attr">datadir</span>=D:/Soft/Work/mysql-<span class="number">8.0</span>.<span class="number">28</span>/data </span><br><span class="line"><span class="comment"># 允许最大连接数  </span></span><br><span class="line"><span class="attr">max_connections</span>=<span class="number">200</span></span><br><span class="line"><span class="comment"># 服务端使用的字符集默认为8比特编码的latin1字符集  </span></span><br><span class="line"><span class="attr">character-set-server</span>=utf8mb4  </span><br><span class="line"><span class="comment"># 创建新表时将使用的默认存储引擎  </span></span><br><span class="line"><span class="attr">default-storage-engine</span>=INNODB</span><br><span class="line"><span class="comment"># InnoDB事务在放弃前等待行锁的时间（秒</span></span><br><span class="line"><span class="attr">innodb_lock_wait_timeout</span>=<span class="number">50</span></span><br><span class="line"><span class="comment"># 索引缓冲区的大小:最大可以设置80%内存</span></span><br><span class="line"><span class="attr">innodb_buffer_pool_size</span> = <span class="number">1024</span>M</span><br><span class="line"><span class="comment"># 指定大小的内存来缓冲数据和索引</span></span><br><span class="line"><span class="attr">key_buffer_size</span> = <span class="number">32</span>M</span><br><span class="line"><span class="comment"># 针对交互式连接:在mysql_real_connect()函数中使用了CLIENT_INTERACTIVE选项。超时时间</span></span><br><span class="line"><span class="attr">interactive_timeout</span>=<span class="number">880000</span></span><br><span class="line"><span class="comment"># 对非交互式连接:通过jdbc连接数据库是非交互式连接 超时时间</span></span><br><span class="line"><span class="attr">wait_timeout</span>=<span class="number">880000</span></span><br><span class="line"><span class="comment"># 单次传输包大小</span></span><br><span class="line"><span class="attr">max_allowed_packet</span>=<span class="number">200</span>M</span><br><span class="line"><span class="comment"># 隔离级别：read-committed：读提交，不允许脏读，但允许不可重复读；</span></span><br><span class="line"><span class="attr">transaction-isolation</span> = READ-COMMITTED</span><br><span class="line"><span class="comment"># 指定大小的内存来缓冲数据和索引</span></span><br><span class="line"><span class="attr">key_buffer_size</span> = <span class="number">32</span>M</span><br><span class="line"><span class="comment"># 当连接失败达到max_connect_error设置的次数，该host将被锁定</span></span><br><span class="line"><span class="attr">max_connect_errors</span>=<span class="number">1000</span></span><br></pre></td></tr></table></figure><h4 id="v8-x简易"><a href="#v8-x简易" class="headerlink" title="v8.x简易"></a>v8.x简易</h4><figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">[mysqld]</span></span><br><span class="line"><span class="comment"># 设置3306端口</span></span><br><span class="line"><span class="attr">port</span>=<span class="number">3306</span></span><br><span class="line"><span class="comment"># 设置mysql的安装目录</span></span><br><span class="line"><span class="attr">basedir</span>=D:/MySQL</span><br><span class="line"><span class="comment"># 设置mysql数据库的数据的存放目录</span></span><br><span class="line"><span class="attr">datadir</span>=D:/MySQL/data</span><br><span class="line"><span class="comment"># 允许最大连接数</span></span><br><span class="line"><span class="attr">max_connections</span>=<span class="number">200</span></span><br><span class="line"><span class="comment"># 允许连接失败的次数。这是为了防止有人从该主机试图攻击数据库系统</span></span><br><span class="line"><span class="attr">max_connect_errors</span>=<span class="number">10</span></span><br><span class="line"><span class="comment"># 服务端使用的字符集默认为UTF8</span></span><br><span class="line"><span class="attr">character-set-server</span>=utf8</span><br><span class="line"><span class="comment"># 创建新表时将使用的默认存储引擎</span></span><br><span class="line"><span class="attr">default-storage-engine</span>=INNODB</span><br><span class="line"><span class="comment"># 默认使用“mysql_native_password”插件认证</span></span><br><span class="line"><span class="attr">default_authentication_plugin</span>=mysql_native_password</span><br><span class="line"><span class="section">[mysql]</span></span><br><span class="line"><span class="comment"># 设置mysql客户端默认字符集</span></span><br><span class="line"><span class="attr">default-character-set</span>=utf8</span><br><span class="line"><span class="section">[client]</span></span><br><span class="line"><span class="comment"># 设置mysql客户端连接服务端时默认使用的端口</span></span><br><span class="line"><span class="attr">port</span>=<span class="number">3306</span></span><br><span class="line"><span class="attr">default-character-set</span>=utf8</span><br></pre></td></tr></table></figure><h4 id="v8-4简易"><a href="#v8-4简易" class="headerlink" title="v8.4简易"></a>v8.4简易</h4><figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">[mysqld]</span></span><br><span class="line"><span class="comment"># 设置3306端口</span></span><br><span class="line"><span class="attr">port</span>=<span class="number">3306</span></span><br><span class="line"><span class="comment"># 设置mysql的安装目录</span></span><br><span class="line"><span class="attr">basedir</span>=D:/MySQL</span><br><span class="line"><span class="comment"># 设置mysql数据库的数据的存放目录</span></span><br><span class="line"><span class="attr">datadir</span>=D:/MySQL/data</span><br><span class="line"><span class="comment"># 允许最大连接数</span></span><br><span class="line"><span class="attr">max_connections</span>=<span class="number">200</span></span><br><span class="line"><span class="comment"># 允许连接失败的次数。这是为了防止有人从该主机试图攻击数据库系统</span></span><br><span class="line"><span class="attr">max_connect_errors</span>=<span class="number">10</span></span><br><span class="line"><span class="comment"># 服务端使用的字符集默认为UTF8</span></span><br><span class="line"><span class="attr">character-set-server</span>=utf8</span><br><span class="line"><span class="comment"># 创建新表时将使用的默认存储引擎</span></span><br><span class="line"><span class="attr">default-storage-engine</span>=INNODB</span><br><span class="line"><span class="comment"># MySQL8.4版本及以上添加，启用验证密码插件解决workbench以及sqlyog连接问题（非8.4及以上无需添加）</span></span><br><span class="line"><span class="attr">mysql_native_password</span>=<span class="literal">ON</span></span><br><span class="line"></span><br><span class="line"><span class="section">[mysql]</span></span><br><span class="line"><span class="comment"># 设置mysql客户端默认字符集</span></span><br><span class="line"><span class="attr">default-character-set</span>=utf8</span><br><span class="line"><span class="section">[client]</span></span><br><span class="line"><span class="comment"># 设置mysql客户端连接服务端时默认使用的端口</span></span><br><span class="line"><span class="attr">port</span>=<span class="number">3306</span></span><br><span class="line"><span class="attr">default-character-set</span>=utf8</span><br></pre></td></tr></table></figure><h3 id="初始化数据库"><a href="#初始化数据库" class="headerlink" title="初始化数据库"></a>初始化数据库</h3><p>以管理员身份运行cmd，并切换目录至mysql主目录的bin文件夹下，输入如下命令：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">初始化mysql数据库，自动创建data文件夹，可在控制台打印的日志信息查看到初始化的数据库密码</span></span><br><span class="line">mysqld --initialize --console</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">注意：如果以上命令没有加--console，在cmd窗口就不会显示日志信息，可以在data文件夹找一个后缀为.err的文件，也能查看日志信息。</span></span><br><span class="line">mysqld --initialize （不建议使用，生成一个随机的root密码）</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">⭐⭐⭐</span></span><br><span class="line">mysqld --initialize-insecure --user=mysql （建议使用，密码为空）</span><br></pre></td></tr></table></figure><h3 id="注册mysql服务并启动"><a href="#注册mysql服务并启动" class="headerlink" title="注册mysql服务并启动"></a>注册mysql服务并启动</h3><blockquote><p>使用下边的命令可以注册mysql服务，需要安装多个版本mysql时可以使用这个命令来区分不同版本数据库对应的服务。</p></blockquote><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mysqld --install 服务名称</span><br><span class="line">sc start 服务名称</span><br></pre></td></tr></table></figure><h3 id="登录mysql数据库"><a href="#登录mysql数据库" class="headerlink" title="登录mysql数据库"></a>登录mysql数据库</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">使用如下命令进行登录</span></span><br><span class="line">mysql -uroot -p</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">输入刚才控制台初始化的密码信息</span></span><br></pre></td></tr></table></figure><h3 id="修改密码"><a href="#修改密码" class="headerlink" title="修改密码"></a>修改密码</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"># 进入MySQL命令行</span><br><span class="line">mysql <span class="operator">-</span>u root</span><br><span class="line"></span><br><span class="line"># 切换数据库</span><br><span class="line">use mysql；</span><br><span class="line"></span><br><span class="line"># 注意版本要求：</span><br><span class="line"></span><br><span class="line">export MAVEN_HOME<span class="operator">=</span><span class="operator">/</span>usr<span class="operator">/</span><span class="keyword">local</span><span class="operator">/</span>apache<span class="operator">-</span>maven<span class="number">-3.6</span><span class="number">.3</span></span><br><span class="line">export PATH<span class="operator">=</span>$PATH:$MAVEN_HOME<span class="operator">/</span>bin</span><br><span class="line"></span><br><span class="line"># V5<span class="number">.6</span> 及以下版本</span><br><span class="line"><span class="keyword">update</span> mysql.user <span class="keyword">set</span> password<span class="operator">=</span>password(<span class="string">&#x27;123456&#x27;</span>) <span class="keyword">where</span> <span class="keyword">User</span><span class="operator">=</span><span class="string">&#x27;root&#x27;</span>;</span><br><span class="line">或 </span><br><span class="line"><span class="keyword">update</span> mysql.user <span class="keyword">set</span> authentication_string<span class="operator">=</span>password(<span class="string">&#x27;123456&#x27;</span>) <span class="keyword">where</span> <span class="keyword">User</span><span class="operator">=</span><span class="string">&#x27;root&#x27;</span>;</span><br><span class="line"></span><br><span class="line"># V5<span class="number">.7</span> 及以上版本</span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">user</span> root<span class="variable">@localhost</span> identified <span class="keyword">by</span> <span class="string">&#x27;新密码&#x27;</span> password expire never;  （推荐使用！设置密码永不过期）</span><br><span class="line">或</span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">user</span> root<span class="variable">@localhost</span> identified <span class="keyword">by</span> <span class="string">&#x27;新密码&#x27;</span>;</span><br><span class="line">或</span><br><span class="line"><span class="keyword">set</span> password <span class="keyword">for</span> root<span class="variable">@localhost</span> <span class="operator">=</span> <span class="string">&#x27;新密码&#x27;</span>;</span><br></pre></td></tr></table></figure><h1 id="Linux重装MySQL"><a href="#Linux重装MySQL" class="headerlink" title="Linux重装MySQL"></a>Linux重装MySQL</h1><h2 id="CentOS"><a href="#CentOS" class="headerlink" title="CentOS"></a>CentOS</h2><h3 id="卸载"><a href="#卸载" class="headerlink" title="卸载"></a>卸载</h3><p>采用yum安装mysql后，如果想要完全卸载mysql，可以采用如下方式：</p><h4 id="查找并删除mysql安装内容"><a href="#查找并删除mysql安装内容" class="headerlink" title="查找并删除mysql安装内容"></a>查找并删除mysql安装内容</h4><p><img src="https://upload-images.jianshu.io/upload_images/7802645-bfcd164758838157.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/584/format/webp" alt="img"></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 是用rpm命令查询mysql安装包</span></span><br><span class="line">rpm -qa |grep -i mysql</span><br><span class="line"></span><br><span class="line"><span class="comment"># 删除mysql安装包</span></span><br><span class="line">yum remove mysql-community-common-5.7.20-1.el7.x86_64</span><br><span class="line">yum remove mysql-community-client-5.7.20-1.el7.x86_64</span><br><span class="line">yum remove mysql57-community-release-el7-11.noarch</span><br><span class="line">yum remove mysql-community-libs-5.7.20-1.el7.x86_64</span><br><span class="line">yum removemysql-community-server-5.7.20-1.el7.x86_64</span><br><span class="line"></span><br><span class="line"><span class="comment"># 再次确认删除干净</span></span><br><span class="line">rpm -qa |grep -i mysql</span><br></pre></td></tr></table></figure><h4 id="删除文件残留"><a href="#删除文件残留" class="headerlink" title="删除文件残留"></a>删除文件残留</h4><p><img src="https://upload-images.jianshu.io/upload_images/7802645-f334e2d6474898a9.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/412/format/webp" alt="img"></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">find / -name mysql</span><br><span class="line"></span><br><span class="line"><span class="built_in">rm</span> -rf /etc/my.cnf</span><br><span class="line"></span><br><span class="line"><span class="built_in">rm</span> -rf /var/log/mysqld.log</span><br><span class="line"></span><br><span class="line"><span class="built_in">rm</span> -f /tmp/mysqlx.sock.lock</span><br><span class="line"><span class="built_in">rm</span> -f /tmp/mysqlx.sock</span><br><span class="line"></span><br><span class="line"><span class="comment"># 这两个文件删除一次后会生成新的，删除一次即可</span></span><br><span class="line"><span class="built_in">rm</span> -f /tmp/mysql.sock.lock</span><br><span class="line"><span class="built_in">rm</span> -f /tmp/mysql.sock</span><br></pre></td></tr></table></figure><h3 id="重装"><a href="#重装" class="headerlink" title="重装"></a>重装</h3><h4 id="在线安装"><a href="#在线安装" class="headerlink" title="在线安装"></a>在线安装</h4><p>安装包网址：<a target="_blank" rel="noopener" href="https://dev.mysql.com/downloads/repo/yum/">https://dev.mysql.com/downloads/repo/yum/</a></p><h5 id="下载wget命令"><a href="#下载wget命令" class="headerlink" title="下载wget命令"></a>下载wget命令</h5><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum install -y wget</span><br></pre></td></tr></table></figure><h5 id="下载MySQL安装包"><a href="#下载MySQL安装包" class="headerlink" title="下载MySQL安装包"></a>下载MySQL安装包</h5><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 根据上面的安装包网址中的链接，根据需要选择</span></span><br><span class="line">wget https://dev.mysql.com/get/mysql57-community-release-el7-8.noarch.rpm</span><br></pre></td></tr></table></figure><h5 id="安装MySQL安装包"><a href="#安装MySQL安装包" class="headerlink" title="安装MySQL安装包"></a>安装MySQL安装包</h5><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rpm -ivh mysql57-community-release-el7-8.noarch.rpm</span><br></pre></td></tr></table></figure><h5 id="安装MySQL服务"><a href="#安装MySQL服务" class="headerlink" title="安装MySQL服务"></a>安装MySQL服务</h5><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 1. 进入 /etc/yum.repos.d 目录</span></span><br><span class="line"><span class="built_in">cd</span> /etc/yum.repos.d</span><br><span class="line"><span class="comment"># 2. 安装MySQL服务</span></span><br><span class="line">yum -y install mysql-server</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#  注意：在安装过程中可能会遇到以下类似问题：</span></span><br><span class="line"></span><br><span class="line">源 “MySQL 5.7 Community Server” 的 GPG 密钥已安装,但是不适用于此软件包。请检查；</span><br><span class="line"></span><br><span class="line">从 file:///etc/pki/rpm-gpg/RPM-GPG-KEY-mysql 检索密钥</span><br><span class="line">源 <span class="string">&quot;MySQL 5.7 Community Server&quot;</span> 的 GPG 密钥已安装，但是不适用于此软件包。请检查源的公钥 URL 是否配置正确。</span><br><span class="line">失败的软件包是：mysql-community-server-5.7.37-1.el7.x86_64</span><br><span class="line">GPG  密钥配置为：file:///etc/pki/rpm-gpg/RPM-GPG-KEY-mysql</span><br><span class="line"></span><br><span class="line"><span class="comment"># 解决方案：可在安装出现问题后执行下面代码，这段代码执行完成后再来执行安装服务</span></span><br><span class="line"></span><br><span class="line">rpm --import https://repo.mysql.com/RPM-GPG-KEY-mysql-2022</span><br></pre></td></tr></table></figure><h5 id="启动MySQL服务"><a href="#启动MySQL服务" class="headerlink" title="启动MySQL服务"></a>启动MySQL服务</h5><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl start mysqld.service</span><br></pre></td></tr></table></figure><h5 id="查看数据库初始密码"><a href="#查看数据库初始密码" class="headerlink" title="查看数据库初始密码"></a>查看数据库初始密码</h5><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">grep <span class="string">&#x27;A temporary password&#x27;</span> /var/log/mysqld.log</span><br></pre></td></tr></table></figure><h5 id="修改密码-1"><a href="#修改密码-1" class="headerlink" title="修改密码"></a>修改密码</h5><blockquote><p>老一套</p></blockquote><h5 id="远程访问解决"><a href="#远程访问解决" class="headerlink" title="远程访问解决"></a>远程访问解决</h5><blockquote><p>可以通过关闭防火墙以及增加防火墙开放端口 ＋ 老一套</p></blockquote><h4 id="内网环境-zip-安装"><a href="#内网环境-zip-安装" class="headerlink" title="内网环境 zip 安装"></a>内网环境 zip 安装</h4><p><a target="_blank" rel="noopener" href="https://blog.csdn.net/LIU_ZHAO_YANG/article/details/135628320">参考链接</a></p><h5 id="可能遇到的问题"><a href="#可能遇到的问题" class="headerlink" title="可能遇到的问题"></a>可能遇到的问题</h5><ul><li><p>安装 MySQL57 时提示系统中缺少 ncurses 库<br><img src="https://cdn.jsdelivr.net/gh/wl2o2o/blogCdn/img/%E5%A4%87%E5%BF%98%E5%BD%95-2025-02-11-02-56-12.png" alt="提示系统中缺少ncurses库报错图"></p><ul><li><p>科普：<br>libncurses.so.5 是一个终端控制库的共享文件，MySQL 5.7 客户端依赖它来运行。如果系统中缺少该文件，可以通过安装兼容包、创建符号链接或升级 MySQL 版本来解决问题。推荐优先尝试安装兼容包或升级到 MySQL 8.0。</p></li><li><p>原因：<br>某些较新的 Linux 发行版（如 CentOS 8 或 Ubuntu 20.04 及以上版本）可能默认不安装 ncurses 的旧版本（如 ncurses5），而是使用更新的版本（如 ncurses6）。<br>MySQL 5.7 客户端可能硬编码依赖 libncurses.so.5，而无法直接使用 libncurses.so.6。</p></li><li><p>解决办法：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 系统中已装 ncurses6，可以创建软连接</span></span><br><span class="line">sudo <span class="built_in">ln</span> -s /lib/x86_64-linux-gnu/libncurses.so.6 /lib/x86_64-linux-gnu/libncurses.so.5</span><br><span class="line"></span><br><span class="line"><span class="comment"># 系统中未装 ncurses</span></span><br><span class="line"><span class="comment">## Ubuntu</span></span><br><span class="line">sudo apt-get install libncurses5</span><br><span class="line"><span class="comment">## CentOS</span></span><br><span class="line">sudo yum install ncurses-libs</span><br></pre></td></tr></table></figure></li></ul></li><li><p>初始化 MySQL57 时提示系统缺少 libaio 库</p><ul><li>报错信息：<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./bin/mysqld: error <span class="keyword">while</span> loading shared libraries: libaio.so.1: cannot open shared object file: No such file or directory</span><br></pre></td></tr></table></figure></li><li>解决方法：<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Ubuntu</span></span><br><span class="line">sudo apt install libaio1</span><br><span class="line"><span class="comment"># CentOS</span></span><br><span class="line">sudo yum install libaio</span><br><span class="line"><span class="comment"># 如果 Ubuntu 提示如下内容，需要更换源</span></span><br><span class="line">apt-get install libaio1</span><br><span class="line">Reading package lists... Done</span><br><span class="line">Building dependency tree... Done</span><br><span class="line">Reading state information... Done</span><br><span class="line">E: Unable to locate package libaio1</span><br><span class="line">[参考链接](https://blog.csdn.net/NowJzy/article/details/142459713)</span><br></pre></td></tr></table></figure></li></ul></li></ul><h5 id="编辑配置文件"><a href="#编辑配置文件" class="headerlink" title="编辑配置文件"></a>编辑配置文件</h5><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 下载安装包</span></span><br><span class="line">wget https://dev.mysql.com/get/Downloads/MySQL-8.0/mysql-8.0.27-linux-glibc2.12-x86_64.tar.xz</span><br><span class="line"><span class="comment">#  vi /etc/my.cnf</span></span><br><span class="line"></span><br><span class="line">[mysqld]</span><br><span class="line"><span class="comment"># 设置3306端口</span></span><br><span class="line">port=3306</span><br><span class="line"><span class="comment"># 设置mysql的安装目录</span></span><br><span class="line">basedir=/usr/local/mysql</span><br><span class="line"><span class="comment"># 设置mysql数据库的数据的存放目录</span></span><br><span class="line">datadir=/usr/local/mysql/data</span><br><span class="line"><span class="comment"># 允许最大连接数</span></span><br><span class="line">max_connections=200</span><br><span class="line"><span class="comment"># 允许连接失败的次数。</span></span><br><span class="line">max_connect_errors=10</span><br><span class="line"><span class="comment"># 服务端使用的字符集默认为utf8mb4</span></span><br><span class="line">character-set-server=utf8mb4</span><br><span class="line"><span class="comment"># 创建新表时将使用的默认存储引擎</span></span><br><span class="line">default-storage-engine=INNODB</span><br><span class="line"><span class="comment"># 默认使用“mysql_native_password”插件认证</span></span><br><span class="line"><span class="comment">#mysql_native_password</span></span><br><span class="line">default_authentication_plugin=mysql_native_password</span><br><span class="line">[mysql]</span><br><span class="line"><span class="comment"># 设置mysql客户端默认字符集</span></span><br><span class="line">default-character-set=utf8mb4</span><br><span class="line">[client]</span><br><span class="line"><span class="comment"># 设置mysql客户端连接服务端时默认使用的端口</span></span><br><span class="line">port=3306</span><br><span class="line">default-character-set=utf8mb4</span><br></pre></td></tr></table></figure><h5 id="初始化MySQL（二选一）"><a href="#初始化MySQL（二选一）" class="headerlink" title="初始化MySQL（二选一）"></a>初始化MySQL（二选一）</h5><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">./bin/mysqld --initialize --user=mysql --basedir=/usr/local/mysql --datadir=/usr/local/mysql/data</span><br><span class="line"></span><br><span class="line">./mysqld --defaults-file=/etc/my.cnf --basedir=/usr/local/mysql --datadir=/usr/local/mysql/data --user=mysql --initialize</span><br></pre></td></tr></table></figure><h5 id="设置开机自启动"><a href="#设置开机自启动" class="headerlink" title="设置开机自启动"></a>设置开机自启动</h5><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 新建文件并编辑</span></span><br><span class="line">vi /etc/systemd/system/mysql.service</span><br><span class="line"></span><br><span class="line"><span class="comment"># 根据自己的安装位置，输入一下内容</span></span><br><span class="line">[Unit]</span><br><span class="line">Description=MySQL Server</span><br><span class="line">Documentation=https://dev.mysql.com/doc/refman/5.7/en/</span><br><span class="line"></span><br><span class="line">[Service]</span><br><span class="line">ExecStart=/usr/local/mysql/bin/mysqld_safe --defaults-file=/etc/my.cnf</span><br><span class="line">User=mysql</span><br><span class="line">Group=mysql</span><br><span class="line">Restart=always</span><br><span class="line">RestartSec=3</span><br><span class="line">LimitNOFILE=infinity</span><br><span class="line"></span><br><span class="line">[Install]</span><br><span class="line">WantedBy=multi-user.target</span><br><span class="line"></span><br><span class="line"><span class="comment"># 重新加载配置文件</span></span><br><span class="line">systemctl daemon-reload</span><br><span class="line"><span class="comment"># </span></span><br><span class="line"></span><br><span class="line">systemctl enabled mysql</span><br><span class="line"></span><br><span class="line">systemctl is-enabled mysql</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 重启mysql服务并查看状态</span></span><br><span class="line">systemctl restart mysql</span><br><span class="line">systemctl status mysql</span><br></pre></td></tr></table></figure><h2 id="Ubuntu"><a href="#Ubuntu" class="headerlink" title="Ubuntu"></a>Ubuntu</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">###   一般不用这些 ###</span></span><br><span class="line">sudo apt-get purge mysql*</span><br><span class="line">sudo apt-get autoremove</span><br><span class="line">sudo apt-get autoclean</span><br><span class="line">sudo apt-get dist-upgrade</span><br><span class="line"><span class="comment">###   若是执行 apt remove mysql-server 报错 则执行以上命令  ###</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 先检查当前主机是否已经下载了mysql或者mariadb</span></span><br><span class="line">dpkg -l | grep mysql-server</span><br><span class="line">dpkg -l | grep mariadb</span><br><span class="line"></span><br><span class="line"><span class="comment"># 如果有返回结果，那么就是已经下载安装了。</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 卸载曾经的mysql或mariadb环境</span></span><br><span class="line">apt remove mysql-server</span><br><span class="line">apt remove mariadb</span><br><span class="line"></span><br><span class="line"><span class="comment"># 下载安装mysql</span></span><br><span class="line">apt install -y mysql-server</span><br><span class="line"></span><br><span class="line"><span class="comment"># 查看安装并启动mysql服务</span></span><br><span class="line"><span class="comment"># 对于安装的不同版本，有些mysql版本在下载安装时就已经默认开启了服务。有些则需要手动打开服务。</span></span><br><span class="line"><span class="comment"># 查看是否打开mysql服务</span></span><br><span class="line">systemctl status mysql</span><br><span class="line"></span><br></pre></td></tr></table></figure><h1 id="MAC重装MySQL"><a href="#MAC重装MySQL" class="headerlink" title="MAC重装MySQL"></a>MAC重装MySQL</h1><h2 id="DMG方式安装"><a href="#DMG方式安装" class="headerlink" title="DMG方式安装"></a>DMG方式安装</h2><h3 id="卸载MySQL-1"><a href="#卸载MySQL-1" class="headerlink" title="卸载MySQL"></a>卸载<code>MySQL</code></h3><p>打开系统设置，进入侧边栏最底部的<code>MySQL</code>一栏</p><h3 id="删除安装残余"><a href="#删除安装残余" class="headerlink" title="删除安装残余"></a>删除安装残余</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">sudo <span class="built_in">rm</span> /usr/local/mysql</span><br><span class="line">sudo <span class="built_in">rm</span> -rf /usr/local/mysql*</span><br><span class="line">sudo <span class="built_in">rm</span> -rf /Library/StartupItems/MySQLCOM</span><br><span class="line">sudo <span class="built_in">rm</span> -rf /Library/PreferencePanes/MySQL*</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">@<span class="built_in">echo</span> off</span><br><span class="line"><span class="built_in">set</span> MINIO_ROOT_USER=minioadmin</span><br><span class="line"><span class="built_in">set</span> MINIO_ROOT_PASSWORD=minioadmin</span><br><span class="line">minio.exe server D:\Minio\data --console-address <span class="string">&quot;:9001&quot;</span> --address <span class="string">&quot;:9000&quot;</span> &gt; D:\Minio\logs\minio.log 2&gt;&amp;1</span><br><span class="line">sudo <span class="built_in">rm</span> -f /tmp/mysqlx.sock.lock</span><br><span class="line">sudo <span class="built_in">rm</span> -f /tmp/mysqlx.sock</span><br><span class="line"></span><br><span class="line"><span class="comment"># 这两个文件删除一次后会生成新的，新生成的不用删除</span></span><br><span class="line">sudo <span class="built_in">rm</span> -f /tmp/mysql.sock.lock</span><br><span class="line">sudo <span class="built_in">rm</span> -f /tmp/mysql.sock</span><br><span class="line"></span><br><span class="line"><span class="comment"># 这是授权的命令，但是很多时候不管用，如果是通过 brew 的方式进行安装的 MySQL 的话，一定要执行</span></span><br><span class="line"><span class="built_in">chmod</span> -R 777 /opt/homebrew/var/mysql</span><br></pre></td></tr></table></figure><h3 id="重新安装"><a href="#重新安装" class="headerlink" title="重新安装"></a>重新安装</h3><p>完成后查看系统设置，进入侧边栏最底部的<code>MySQL</code>一栏，查看是否正常启动，已经启动则成功安装</p><h3 id="配置环境变量"><a href="#配置环境变量" class="headerlink" title="配置环境变量"></a>配置环境变量</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 查看环境变量是否写入</span></span><br><span class="line"><span class="built_in">cat</span> ~/.bash_profile</span><br><span class="line"><span class="comment"># 如果未写入</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&#x27;export PATH=&quot;/usr/local/mysql/bin:$PATH&quot;&#x27;</span> &gt;&gt; ~/.bash_profile</span><br><span class="line"><span class="built_in">source</span> ~/.bash_profile </span><br></pre></td></tr></table></figure><h2 id="Compressed-TAR-Archive压缩包方式安装"><a href="#Compressed-TAR-Archive压缩包方式安装" class="headerlink" title="Compressed TAR Archive压缩包方式安装"></a>Compressed TAR Archive压缩包方式安装</h2><p>官网地址：<a target="_blank" rel="noopener" href="https://dev.mysql.com/downloads/mysql/">https://dev.mysql.com/downloads/mysql/</a></p><h3 id="删除MySQL压缩包以及解压后的文件"><a href="#删除MySQL压缩包以及解压后的文件" class="headerlink" title="删除MySQL压缩包以及解压后的文件"></a>删除<code>MySQL</code>压缩包以及解压后的文件</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">rm</span> -rf ./file/*</span><br></pre></td></tr></table></figure><h3 id="删除安装残余-1"><a href="#删除安装残余-1" class="headerlink" title="删除安装残余"></a>删除安装残余</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">sudo <span class="built_in">rm</span> /usr/local/mysql</span><br><span class="line">sudo <span class="built_in">rm</span> -rf /usr/local/mysql*</span><br><span class="line">sudo <span class="built_in">rm</span> -rf /Library/StartupItems/MySQLCOM</span><br><span class="line">sudo <span class="built_in">rm</span> -rf /Library/PreferencePanes/MySQL*</span><br><span class="line"></span><br><span class="line">sudo rm-f /tmp/mysqlx.sock.lock</span><br><span class="line">sudo <span class="built_in">rm</span> -f /tmp/mysqlx.sock</span><br><span class="line"></span><br><span class="line"><span class="comment"># 这两个文件删除一次后会生成新的，新生成的不用删除</span></span><br><span class="line">sudo <span class="built_in">rm</span> -f /tmp/mysql.sock.lock</span><br><span class="line">sudo <span class="built_in">rm</span> -f /tmp/mysql.sock</span><br><span class="line"></span><br><span class="line"><span class="comment"># 这是授权的命令，但是很多时候不管用，如果是通过 brew 的方式进行安装的 MySQL 的话，一定要执行</span></span><br><span class="line"><span class="built_in">chmod</span> -R 777 /opt/homebrew/var/mysql</span><br></pre></td></tr></table></figure><h3 id="解压"><a href="#解压" class="headerlink" title="解压"></a>解压</h3><p>将其解压到/usr/local/下，并重命名为mysql (即：最后的完整目录应该是/usr/local/mysql)</p><h4 id="调整目录权限"><a href="#调整目录权限" class="headerlink" title="调整目录权限"></a>调整目录权限</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> /usr/local</span><br><span class="line"><span class="comment"># 这一步的目的，主要是保证/usr/local/mysql下可以写入数据</span></span><br><span class="line"><span class="built_in">chown</span> -R 当前登录mac的管理员用户名 mysql</span><br></pre></td></tr></table></figure><h4 id="初始化数据库-1"><a href="#初始化数据库-1" class="headerlink" title="初始化数据库"></a>初始化数据库</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cd /usr/local/mysql/bin</span><br><span class="line">sudo ./mysqld --initialize --user=mysql</span><br></pre></td></tr></table></figure><blockquote><p>2018-12-01T14:42:12.002186Z 0 [System] [MY-013169] [Server] /usr/local/mysql/bin/mysqld (mysqld 8.0.13) initializing of server in progress as process 4229<br>2018-12-01T14:42:12.004783Z 0 [Warning] [MY-010159] [Server] Setting lower_case_table_names=2 because file system for /usr/local/mysql/data/ is case insensitive<br>2018-12-01T14:42:12.006285Z 0 [Warning] [MY-010122] [Server] One can only use the –user switch if running as root<br>2018-12-01T14:42:14.187443Z 5 [Note] [MY-010454] [Server] A temporary password is generated for root@localhost: <strong>iM46X&amp;03qRc_</strong><br>2018-12-01T14:42:15.427614Z 0 [System] [MY-013170] [Server] /usr/local/mysql/bin/mysqld (mysqld 8.0.13) initializing of server has completed</p></blockquote><p><strong>注意加粗的部分</strong>，初始化过程中，会生成一个随机的root初始密码，记好这个，后面会用到。</p><p>如果没记下这个密码，导致后面无法登录，可以<strong>rm -rf /usr/local/mysql/data/</strong>* 把所有文件干掉，再来一把。</p><h4 id="启动mysql"><a href="#启动mysql" class="headerlink" title="启动mysql"></a>启动mysql</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> /usr/local/mysql/support-file</span><br><span class="line"></span><br><span class="line">./mysql.server start</span><br></pre></td></tr></table></figure><p>Starting MySQL<br>. SUCCESS!</p><p>看到这个SUCCESS就表示启动成功了。</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"># 在启动MySQL时报：[ERROR] Fatal error: Please read “Security” section of the manual to find out how to run mysqld as root!</span><br><span class="line"></span><br><span class="line">1. 使用root用户启动</span><br><span class="line">service mysqld start --user=root</span><br><span class="line"></span><br><span class="line">2. 使用非root用户启动，修改my.cnf文件</span><br><span class="line">进入文件：vim /etc/my.cnf</span><br><span class="line">在[mysqld]下输入内容：user=mysql</span><br></pre></td></tr></table></figure><h4 id="修改密码-2"><a href="#修改密码-2" class="headerlink" title="修改密码"></a>修改密码</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cd /usr/local/mysql/bin</span><br><span class="line">./mysqladmin -u root -p &#x27;新的密码&#x27;</span><br></pre></td></tr></table></figure><p>初始密码实在太难记了，可以用上面的命令先改一下</p><p>这一步做完后，应该就可以用</p><h4 id="登录验证"><a href="#登录验证" class="headerlink" title="登录验证"></a>登录验证</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysql -u root -p</span><br></pre></td></tr></table></figure><p>不过<strong>8.0及以上版本</strong>貌似安全策略做了调整，用navicat之类的工具连接，会出现：<strong>Client does not support authentication protocol requested by server; consider upgrading MySQL client</strong>之类的错误</p><p>解决方法：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">use mysql</span><br><span class="line">alter user <span class="string">&#x27;root&#x27;</span>@<span class="string">&#x27;localhost&#x27;</span> identified with mysql_native_password by <span class="string">&#x27;新密码&#x27;</span>;</span><br><span class="line">flush privileges;</span><br></pre></td></tr></table></figure><h4 id="配置全局环境变量"><a href="#配置全局环境变量" class="headerlink" title="配置全局环境变量"></a>配置全局环境变量</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 查看环境变量是否写入</span></span><br><span class="line"><span class="built_in">cat</span> ~/.bash_profile</span><br><span class="line"><span class="comment"># 如果未写入</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&#x27;export PATH=&quot;/usr/local/mysql/bin:$PATH&quot;&#x27;</span> &gt;&gt; ~/.bash_profile</span><br><span class="line"><span class="built_in">source</span> ~/.bash_profile</span><br></pre></td></tr></table></figure><h4 id="设置开机自启动-1"><a href="#设置开机自启动-1" class="headerlink" title="设置开机自启动"></a>设置开机自启动</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 1. 创建启动代理 plist 文件（保存文件并退出编辑器（在 nano 中，按 ctrl+x，然后按 y，然后 enter）</span></span><br><span class="line">sudo nano /library/launchdaemons/com.mysql.mysql.plist</span><br><span class="line"></span><br><span class="line"><span class="comment"># 2. 将以下内容添加到文件中</span></span><br><span class="line">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;utf-8&quot;</span>?&gt;</span><br><span class="line">&lt;!doctype plist public <span class="string">&quot;-//apple//dtd plist 1.0//en&quot;</span> <span class="string">&quot;http://www.apple.com/dtds/propertylist-1.0.dtd&quot;</span>&gt;</span><br><span class="line">&lt;plist version=<span class="string">&quot;1.0&quot;</span>&gt;</span><br><span class="line">  &lt;dict&gt;</span><br><span class="line">    &lt;key&gt;label&lt;/key&gt;</span><br><span class="line">    &lt;string&gt;com.mysql.mysql&lt;/string&gt;</span><br><span class="line">    &lt;key&gt;programarguments&lt;/key&gt;</span><br><span class="line">    &lt;array&gt;</span><br><span class="line">      &lt;string&gt;/usr/local/mysql/support-files/mysql.server&lt;/string&gt;</span><br><span class="line">      &lt;string&gt;start&lt;/string&gt;</span><br><span class="line">    &lt;/array&gt;</span><br><span class="line">    &lt;key&gt;runatload&lt;/key&gt;</span><br><span class="line">    &lt;<span class="literal">true</span>/&gt;</span><br><span class="line">  &lt;/dict&gt;</span><br><span class="line">&lt;/plist&gt;</span><br><span class="line"></span><br><span class="line"><span class="comment"># 3. 为plist文件设置正确的权限</span></span><br><span class="line">sudo <span class="built_in">chown</span> root:wheel /library/launchdaemons/com.mysql.mysql.plist</span><br><span class="line">sudo <span class="built_in">chmod</span> 644 /library/launchdaemons/com.mysql.mysql.plist</span><br><span class="line"></span><br><span class="line"><span class="comment"># 4. 加载启动代理</span></span><br><span class="line">sudo launchctl load /Library/LaunchDaemons/com.mysql.mysql.plist</span><br></pre></td></tr></table></figure><h1 id="Windows忘记MySQL密码"><a href="#Windows忘记MySQL密码" class="headerlink" title="Windows忘记MySQL密码"></a>Windows忘记MySQL密码</h1><blockquote><p>如果是忘记密码，那么需要按照顺序全部执行；如果仅仅是修改密码，只需执行第四步即可！</p></blockquote><ol><li><p><code>win + R</code>运行<code>services.msc</code></p><p>找到<code>MySQL</code>或者<code>MySQL80</code>服务并关闭</p></li><li><p>以管理员身份运行<code>cmd</code>，进入MySQL安装目录</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 默认安装位置</span></span><br><span class="line">C:\Program Files\MySQL\MySQL Server [your_version]\bin</span><br><span class="line"><span class="comment"># 正确配置过环境变量的前提下，找不到安装目录可以使用以下命令进行查看</span></span><br><span class="line"><span class="built_in">where</span> mysqld.exe</span><br></pre></td></tr></table></figure></li><li><p>跳过权限表启动<code>MySQL</code></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 在 bin 目录下执行命令，跳过身份验证权限，运行以下命令之后，此时命令提示符处于mysqld启动状态</span></span><br><span class="line">mysqld --skip-grant-tables</span><br></pre></td></tr></table></figure></li><li><p>修改密码</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 新打开一个 cmd 连接到 MySQL</span></span><br><span class="line"><span class="comment"># 进入MySQL命令行</span></span><br><span class="line">mysql -u root</span><br><span class="line"></span><br><span class="line"><span class="comment"># 切换数据库</span></span><br><span class="line">use mysql；</span><br><span class="line"></span><br><span class="line"><span class="comment"># 注意版本要求：</span></span><br><span class="line"><span class="comment"># 小于等于 V5.7 </span></span><br><span class="line">update mysql.user <span class="built_in">set</span> authentication_string=password(<span class="string">&#x27;123456&#x27;</span>) <span class="built_in">where</span> User=<span class="string">&#x27;root&#x27;</span>;</span><br><span class="line"><span class="comment"># 大于 V5.7</span></span><br><span class="line">alter user root@localhost identified by <span class="string">&#x27;新密码&#x27;</span> password expire never;  （推荐使用！设置密码永不过期）</span><br><span class="line"></span><br><span class="line">update mysql.user <span class="built_in">set</span> password=password(<span class="string">&#x27;123456&#x27;</span>) <span class="built_in">where</span> User=<span class="string">&#x27;root&#x27;</span>;</span><br><span class="line">或者</span><br><span class="line">alter user root@localhost identified by <span class="string">&#x27;新密码&#x27;</span>;</span><br><span class="line">或者</span><br><span class="line"><span class="built_in">set</span> password <span class="keyword">for</span> root@localhost = <span class="string">&#x27;新密码&#x27;</span>;</span><br></pre></td></tr></table></figure></li><li><p>刷新权限</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">flush privileges;</span><br></pre></td></tr></table></figure></li><li><p>验证是否成功</p></li></ol><h1 id="MAC忘记MySQL密码"><a href="#MAC忘记MySQL密码" class="headerlink" title="MAC忘记MySQL密码"></a>MAC忘记MySQL密码</h1><blockquote><p>如果是忘记密码，那么需要按照顺序全部执行；如果仅仅是修改密码，只需执行第五步即可！</p></blockquote><ol><li><p>关闭<code>MySQL</code>服务</p><blockquote><p>1 使用系统设置页的 MySQL 面板</p><p>2 使用命令</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo /usr/local/mysql/support-files/mysql.server stop</span><br></pre></td></tr></table></figure></blockquote></li><li><p>切换到管理员模式</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo su</span><br></pre></td></tr></table></figure></li><li><p>关闭密码验证</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 跳过权限表，执行下面的语句后，直接后台启动运行，可能不需要新开终端</span></span><br><span class="line">sudo /usr/local/mysql/bin/mysqld_safe --skip-grant-tables &amp;</span><br></pre></td></tr></table></figure></li><li><p>进入<code>MySQL</code></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysql -u root</span><br></pre></td></tr></table></figure></li><li><p>刷新权限</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">flush privileges;</span><br></pre></td></tr></table></figure></li><li><p>修改密码</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 注意版本要求：</span></span><br><span class="line"><span class="comment"># 小于等于 V5.7 </span></span><br><span class="line">update mysql.user <span class="built_in">set</span> authentication_string=password(<span class="string">&#x27;123456&#x27;</span>) <span class="built_in">where</span> User=<span class="string">&#x27;root&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment"># 大于 V5.7</span></span><br><span class="line">alter user root@localhost identified by <span class="string">&#x27;新密码&#x27;</span> password expire never;  （推荐使用！设置密码永不过期）</span><br><span class="line"></span><br><span class="line">update mysql.user <span class="built_in">set</span> password=password(<span class="string">&#x27;123456&#x27;</span>) <span class="built_in">where</span> User=<span class="string">&#x27;root&#x27;</span>;</span><br><span class="line">或者</span><br><span class="line">alter user root@localhost identified by <span class="string">&#x27;新密码&#x27;</span>;</span><br><span class="line">或者</span><br><span class="line"><span class="built_in">set</span> password <span class="keyword">for</span> root@localhost = <span class="string">&#x27;新密码&#x27;</span>;</span><br></pre></td></tr></table></figure></li><li><p>刷新权限</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">flush privileges；</span><br></pre></td></tr></table></figure></li><li><p>开启<code>MySQL</code>服务</p><blockquote><p>同第一步⬆️，第一步用什么方法，这一步就用什么</p><p>1 使用系统设置页的 MySQL 面板</p><p>2 使用命令</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo /usr/local/mysql/support-files/mysql.server start</span><br></pre></td></tr></table></figure></blockquote></li></ol><h1 id="MAC启动MySQL服务报错"><a href="#MAC启动MySQL服务报错" class="headerlink" title="MAC启动MySQL服务报错"></a>MAC启动MySQL服务报错</h1><p><a target="_blank" rel="noopener" href="https://blog.csdn.net/l1994m/article/details/140016220">参考链接</a></p><h2 id="报错"><a href="#报错" class="headerlink" title="报错"></a>报错</h2><p>ERROR!The server quit without update PID file（/opt/homebrew/var/mysql/username.local.pid）</p><h2 id="原因"><a href="#原因" class="headerlink" title="原因"></a>原因</h2><p>安装MySQL时，之前的配置为删除干净，或者未卸载干净导致系统进程中残留了MySQL相关服务的进程！</p><h2 id="解决方案"><a href="#解决方案" class="headerlink" title="解决方案"></a>解决方案</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">sudo <span class="built_in">cat</span> /opt/homebrew/var/mysql/username.local.err</span><br><span class="line"></span><br><span class="line">sudo rm-f /tmp/mysqlx.sock.lock</span><br><span class="line"></span><br><span class="line">sudo <span class="built_in">rm</span> -f /tmp/mysqlx.sock</span><br><span class="line"></span><br><span class="line"><span class="comment"># 这两个文件删除一次后会生成新的，新生成的不用删除</span></span><br><span class="line">sudo <span class="built_in">rm</span> -f /tmp/mysql.sock.lock</span><br><span class="line"></span><br><span class="line">sudo <span class="built_in">rm</span> -f /tmp/mysql.sock</span><br><span class="line"></span><br><span class="line"><span class="comment"># 这是授权的命令，但是很多时候不管用</span></span><br><span class="line"><span class="built_in">chmod</span> -R 777 /opt/homebrew/var/mysql</span><br><span class="line"></span><br><span class="line"><span class="comment"># 重新开启MySQL服务</span></span><br><span class="line">1 如果是使用的mac系统的dmg方式进行安装的，打开系统设置尾部的 MySQL 面板进行</span><br><span class="line">2 使用命令</span><br><span class="line">sudo /usr/local/mysql/support-files/mysql.server start</span><br></pre></td></tr></table></figure><h1 id="MAC启动MySQL的方式"><a href="#MAC启动MySQL的方式" class="headerlink" title="MAC启动MySQL的方式"></a>MAC启动MySQL的方式</h1><h2 id="通过homebrew安装的MySQL"><a href="#通过homebrew安装的MySQL" class="headerlink" title="通过homebrew安装的MySQL"></a>通过<code>homebrew</code>安装的MySQL</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">brew services start mysql</span><br></pre></td></tr></table></figure><h2 id="通过DMG安装的MySQL"><a href="#通过DMG安装的MySQL" class="headerlink" title="通过DMG安装的MySQL"></a>通过<code>DMG</code>安装的MySQL</h2><p>打开设置面板最下方的 MySQL panel 进行启动</p><h2 id="通过Compressed-TAR-Archive压缩包安装"><a href="#通过Compressed-TAR-Archive压缩包安装" class="headerlink" title="通过Compressed TAR Archive压缩包安装"></a>通过<code>Compressed TAR Archive</code>压缩包安装</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 进入MySQL的安装目录</span></span><br><span class="line"><span class="built_in">cd</span> <span class="string">&quot;你实际安装的位置&quot;</span></span><br><span class="line"><span class="comment"># 启动服务</span></span><br><span class="line">./support-files/mysql.server start</span><br><span class="line"><span class="comment"># 验证MySQL服务的状态</span></span><br><span class="line">./support-files/mysql.server status</span><br></pre></td></tr></table></figure></article><div class="mt-12 pt-6 border-t border-gray-200"><span class="bg-gray-100 dark:bg-gray-700 px-2 py-1 m-1 text-sm rounded-md transition-colors hover:bg-gray-200"><a href="/tags/MySQL/">MySQL</a></span></div><div class="flex justify-between mt-12 pt-6 border-t border-gray-200"><div><a href="/posts/b23cef03.html" class="text-sm text-gray-400 hover:text-gray-500 flex justify-center"><iconify-icon width="20" icon="ri:arrow-left-s-line" data-inline="false"></iconify-icon>速解小册 备忘录篇</a></div><div><a href="/posts/37fec06.html" class="text-sm text-gray-400 hover:text-gray-500 flex justify-center">速解小册 环境搭建篇<iconify-icon width="20" icon="ri:arrow-right-s-line" data-inline="false"></iconify-icon></a></div></div><div class="article-comments mt-12"><div class="giscus-container mt-8 pt-8 border-t border-gray-200 dark:border-gray-700"><script src="https://giscus.app/client.js" data-repo="WL2O2O/CS_GUIDER_Giscus" data-repo-id="R_kgDOJYdTQw" data-category="Announcements" data-category-id="DIC_kwDOJYdTQ84CWKC6" data-mapping="pathname" data-strict="0" data-reactions-enabled="1" data-emit-metadata="0" data-input-position="top" data-theme="preferred_color_scheme" data-lang="en" crossorigin="anonymous" async></script></div><script>function updateGiscusTheme(){const e=document.querySelector("iframe.giscus-frame");if(e){const s=document.documentElement.classList.contains("dark");e.contentWindow.postMessage({giscus:{setConfig:{theme:s?"dark":"light"}}},"https://giscus.app")}}window.addEventListener("message",e=>{"https://giscus.app"===e.origin&&e.data.giscus&&e.data.giscus.resizeHeight&&updateGiscusTheme()});const observer=new MutationObserver(()=>{updateGiscusTheme()});observer.observe(document.documentElement,{attributes:!0,attributeFilter:["class"]})</script></div></section><script src="/lib/clipboard.min.js"></script><script async src="https://cdn.jsdelivr.net/npm/mathjax@2/MathJax.js?config=TeX-MML-AM_CHTML"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({
    "HTML-CSS": {
        preferredFont: "TeX",
        availableFonts: ["STIX","TeX"],
        linebreaks: { automatic:true },
        EqnChunk: (MathJax.Hub.Browser.isMobile ? 10 : 50)
    },
    tex2jax: {
        inlineMath: [ ["$", "$"], ["\\(","\\)"] ],
        processEscapes: true,
        ignoreClass: "tex2jax_ignore|dno",
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
    },
    TeX: {
        equationNumbers: { autoNumber: "AMS" },
        noUndefined: { attributes: { mathcolor: "red", mathbackground: "#FFEEEE", mathsize: "90%" } },
        Macros: { href: "{}" }
    },
    messageStyle: "none"
  });</script><script type="text/x-mathjax-config">MathJax.Hub.Queue(function() {
      var all = MathJax.Hub.getAllJax(), i;
      for (i=0; i < all.length; i += 1) {
          all[i].SourceElement().parentNode.className += ' has-jax';
      }
  });</script><script src="https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js"></script><script>$(document).ready(()=>{mermaid.initialize({theme:"default",logLevel:3,flowchart:{curve:"linear"},gantt:{axisFormat:"%m/%d/%Y"},sequence:{actorMargin:50}})})</script><script src="/lib/fancybox/fancybox.umd.min.js"></script><script>$(document).ready(()=>{$(".post-content").each((function(a){$(this).find("img").each((function(){if(!$(this).parent().hasClass("fancybox")&&!$(this).parent().is("a")){var a=this.alt;a&&$(this).after('<span class="fancybox-alt">'+a+"</span>"),$(this).wrap('<a class="fancybox-img" href="'+this.src+'" data-fancybox="gallery" data-caption="'+a+'"></a>')}})),$(this).find(".fancybox").each((function(){$(this).attr("rel","article"+a)}))})),Fancybox.bind('[data-fancybox="gallery"]',{})})</script><script src="/lib/tocbot/tocbot.min.js"></script><script>$(document).ready(()=>{tocbot.init({tocSelector:".post-toc",contentSelector:".post-content",headingSelector:"h1, h2, h3",hasInnerContainers:!0})})</script></main><footer class="flex flex-col h-40 items-center justify-center text-gray-400 text-sm"><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><div class="flex items-center gap-2"><span>Visitors</span> <span id="busuanzi_value_site_uv"></span> <span>Page Views</span> <span id="busuanzi_value_site_pv"></span></div><div class="flex items-center gap-2"><a target="_blank" href="https://creativecommons.org/licenses/by-nc-sa/4.0/" style="color:inherit">CC BY-NC-SA 4.0</a> <span>© 2025</span><iconify-icon width="18" icon="emojione-monotone:desktop-computer"></iconify-icon><a href="https://github.com/wl2o2o" target="_blank" rel="noopener noreferrer">CS_GUIDER</a></div><div class="flex items-center gap-2"><span>Powered by</span> <a href="https://hexo.io/" target="_blank" rel="noopener noreferrer">Hexo</a> <span>&</span> <a href="https://github.com/wl2o2o" target="_blank" rel="noopener noreferrer">CS_GUIDER</a></div></footer><div class="back-to-top box-border fixed right-6 z-1024 -bottom-20 rounded py-1 px-1 bg-slate-900 opacity-60 text-white cursor-pointer text-center dark:bg-slate-600"><span class="flex justify-center items-center text-sm"><iconify-icon width="18" icon="ion:arrow-up-c" id="go-top"></iconify-icon><span id="scrollpercent"><span>0</span> %</span></span></div><script src="/js/main.js"></script><script src="/js/search.js"></script><script>$(document).ready((function(){const t=document.getElementById("maple");Array.from({length:"10"}).map(()=>{const e=document.createElement("div"),a=.5*Math.random()+.5,l=2*Math.random()-1,n=Math.random()*t.clientWidth,i=-Math.random()*t.clientHeight;return e.className="maple",e.style.width=24*a+"px",e.style.height=24*a+"px",e.style.left=n+"px",e.style.top=i+"px",e.style.setProperty("--maple-fall-offset",l),e.style.setProperty("--maple-fall-height",Math.abs(i)+t.clientHeight+"px"),e.style.animation=`fall ${10/"0.3"}s linear infinite`,e.style.animationDelay=-10/"0.3"+"s",t.appendChild(e),e})}))</script><div class="fixed top-0 bottom-0 left-0 right-0 pointer-events-none print:hidden" id="maple"></div></body></html>